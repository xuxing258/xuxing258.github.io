import{_ as s,c as a,a as p,o as e}from"./app-Cbtc5Jwy.js";const t={};function l(i,n){return e(),a("div",null,[...n[0]||(n[0]=[p(`<h1 id="绑定方法-内置方法-异常" tabindex="-1"><a class="header-anchor" href="#绑定方法-内置方法-异常"><span>绑定方法+内置方法+异常</span></a></h1><h2 id="上节课回顾" tabindex="-1"><a class="header-anchor" href="#上节课回顾"><span>上节课回顾</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">继承:</span>
<span class="line">    子类继承父类的属性以及方法,可以重用代码并减少重复代码,同时还能根据需求添加新的特征和方法</span>
<span class="line">    在python中所有的类都有一个父类就是object类,称为顶级基类或者根类</span>
<span class="line"></span>
<span class="line">    单继承:一个子类继承一个父类</span>
<span class="line">    多层继承:子类继承父类,父类继承与之对应的父类......</span>
<span class="line">    多继承:一个子类继承多个父类</span>
<span class="line"></span>
<span class="line">    重写父类的属性与方法</span>
<span class="line">    在子类中重新定义一个与父类同名的方法</span>
<span class="line">    在子类中重新调用父类的方法:super().父类方法</span>
<span class="line"></span>
<span class="line">    属性/方法查找:子类对象查找属性/方法---&gt;自身类中开始查找---&gt;父类中</span>
<span class="line">    查看继承顺序:__mro__</span>
<span class="line">    查看父类:返回元组__bases__;返回一个父类__base__</span>
<span class="line"></span>
<span class="line">多态:不同对象调用同一个方法,表现出不同的形态</span>
<span class="line">多态的实现:</span>
<span class="line">    继承与方法重写</span>
<span class="line">    鸭子类型</span>
<span class="line">&quot;&quot;&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">交通工具模拟</span>
<span class="line">任务：模拟不同交通工具的行为，通过继承和多态实现不同交通工具的移动方式。</span>
<span class="line">1.定义一个基类Transportation，包含抽象方法move()。</span>
<span class="line">2.从Transportation派生出三个子类：Car、Bicycle和Boat。</span>
<span class="line">    2.1 Car类的move()方法打印&quot;正在开车前进&quot;。</span>
<span class="line">    2.2 Bicycle类的move()方法打印&quot;正在骑行&quot;。</span>
<span class="line">    2.3 Boat类的move()方法打印&quot;正在航行&quot;。</span>
<span class="line">3.编写一个函数travel(vehicles)，接受一个交通工具列表，遍历列表并调用每个交通工具的move()方法。</span>
<span class="line">&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">from</span> abc <span class="token keyword">import</span> ABC<span class="token punctuation">,</span> abstractmethod</span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Transportation</span><span class="token punctuation">(</span>ABC<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token decorator annotation punctuation">@abstractmethod</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">pass</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Car</span><span class="token punctuation">(</span>Transportation<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;正在开车前进&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Bicycle</span><span class="token punctuation">(</span>Transportation<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;正在骑行&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Boat</span><span class="token punctuation">(</span>Transportation<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">move</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;正在航行&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">travel</span><span class="token punctuation">(</span>vehicles<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">for</span> vehicle <span class="token keyword">in</span> vehicles<span class="token punctuation">:</span></span>
<span class="line">        vehicle<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">travel<span class="token punctuation">(</span><span class="token punctuation">[</span>Car<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Bicycle<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Boat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">看代码写结果<span class="token punctuation">:</span></span>
<span class="line"><span class="token number">1.</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;A.f1&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        self<span class="token punctuation">.</span>f1<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;B.f2&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">obj <span class="token operator">=</span> B<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">obj<span class="token punctuation">.</span>f2<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token number">2.</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;A.f1&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">B</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">f2</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        self<span class="token punctuation">.</span>f1<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;B.f2&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">f1</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;B.f1&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">obj <span class="token operator">=</span> B<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">obj<span class="token punctuation">.</span>f1<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">obj<span class="token punctuation">.</span>f2<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-绑定与非绑定" tabindex="-1"><a class="header-anchor" href="#_1-绑定与非绑定"><span>1.绑定与非绑定</span></a></h2><h3 id="_1-1-类方法" tabindex="-1"><a class="header-anchor" href="#_1-1-类方法"><span>1.1 类方法</span></a></h3><p>类方法，通过装饰器@classmethod进行装饰，绑定类cls</p><p>类方法操作的一定是类属性,因为类方法无法通过self去查询对象绑定的实例属性</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Teacher</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># 类属性</span></span>
<span class="line">    obj <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># 实例属性</span></span>
<span class="line">    <span class="token comment"># 在对象创建好之后,会自动的执行</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        <span class="token comment"># 每实例一个对象,自动调用类方法实现数据自增</span></span>
<span class="line">        self<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">speak</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">在讲课&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@classmethod</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        cls<span class="token punctuation">.</span>obj <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line">        <span class="token keyword">return</span> cls<span class="token punctuation">.</span>obj</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">oy <span class="token operator">=</span> Teacher<span class="token punctuation">(</span><span class="token string">&quot;欧阳老师&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 绑定方法调用(对象)</span></span>
<span class="line"><span class="token comment"># oy.speak()</span></span>
<span class="line"><span class="token comment"># Teacher.speak(oy)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 类方法的调用(类)</span></span>
<span class="line"><span class="token comment"># 一:类名.方法名</span></span>
<span class="line"><span class="token comment"># Teacher.count()  # cls就是当前调用这个方法的类</span></span>
<span class="line"><span class="token comment"># 二:对象名.方法名</span></span>
<span class="line"><span class="token comment"># oy.count()  # cls就是当前调用这个方法的对象的类</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2-静态方法-非绑定" tabindex="-1"><a class="header-anchor" href="#_1-2-静态方法-非绑定"><span>1.2 静态方法（非绑定）</span></a></h3><p>静态方法，通过装饰器staticmethod进行装饰，为了方便代码的统一管理，把类外面的某一个功能函数统一放到类中进行管理；静态方法是操作不了类中的所有东西。</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">import</span> time</span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">:</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line"></span>
<span class="line">    <span class="token decorator annotation punctuation">@staticmethod</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">str_time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>time<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&#39;%Y-%m-%d&#39;</span><span class="token punctuation">,</span>time<span class="token punctuation">.</span>localtime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">xm <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 静态方法的调用(类)</span></span>
<span class="line"><span class="token comment"># 一:类名.方法名</span></span>
<span class="line">Student<span class="token punctuation">.</span>str_time<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 二:对象名.方法名</span></span>
<span class="line">xm<span class="token punctuation">.</span>str_time<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-检查类型" tabindex="-1"><a class="header-anchor" href="#_2-检查类型"><span>2.检查类型</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 检查单个数据类型的</span></span>
<span class="line"><span class="token builtin">isinstance</span><span class="token punctuation">(</span>obj<span class="token operator">/</span>对象<span class="token punctuation">,</span>cls<span class="token operator">/</span>类<span class="token punctuation">)</span> <span class="token comment"># 检查对象是否有指定的类生成的</span></span>
<span class="line"><span class="token builtin">issubclass</span><span class="token punctuation">(</span>cls<span class="token operator">/</span>子类<span class="token punctuation">,</span>class_tuple<span class="token operator">/</span>父类<span class="token punctuation">)</span> <span class="token comment"># 检查是否有继承关系</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-内置方法-了解" tabindex="-1"><a class="header-anchor" href="#_3-内置方法-了解"><span>3.内置方法（了解）</span></a></h2><h3 id="_3-1-信息格式化方法" tabindex="-1"><a class="header-anchor" href="#_3-1-信息格式化方法"><span>3.1 信息格式化方法</span></a></h3><p><code>__str__</code>该方法用户可以直接通过打印对象名来获取内容，主要是对象的自定义描述</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age</span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>age<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span></span>
<span class="line"></span>
<span class="line">xm <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span></span>
<span class="line">xb <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">&quot;小白&quot;</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>xm<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>xb<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">data <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>xm<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>__repr__</code>该方法用户可以直接通过打印对象名来获取内容，主要是对象的自定义描述</p><p>该方法是在交互模式中进行使用的</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>             self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>             self<span class="token punctuation">.</span>age <span class="token operator">=</span> age</span>
<span class="line"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">def</span> <span class="token function">__repr__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>             <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>age<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span></span>
<span class="line"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> xm <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> xm</span>
<span class="line">小明<span class="token operator">-</span><span class="token number">23</span></span>
<span class="line"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-析构方法" tabindex="-1"><a class="header-anchor" href="#_3-2-析构方法"><span>3.2 析构方法</span></a></h3><p><code>__del__</code>当检测到对象没有被继续引用时，就会删除对象所占用的内存空间</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age</span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>age<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__del__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">该对象被析构删除了&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">xm <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span></span>
<span class="line">xb <span class="token operator">=</span> Student<span class="token punctuation">(</span><span class="token string">&quot;小白&quot;</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span></span>
<span class="line">xx <span class="token operator">=</span> xm</span>
<span class="line"><span class="token comment"># xm对象被间接赋值给到一个其他的变量,不能确保这个变量后续没有继续使用,所以无法析构</span></span>
<span class="line"><span class="token keyword">del</span> xm</span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>xx<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;======程序结束======&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>__new__</code>是内置的静态类方法，主要是给实例对象分配内存空间，返回一个对象引用</p><p>python解释器在得到这个方法的返回值之后,会将这个引用作为第一个参数传递给到<code>__init__</code>方法中使用</p><p>如果没有返回值,python解释器就获取不到对象的引用,则对象创建不成功</p><p>new必须要有返回值</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;给对象分配内存空间&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 给实例对象分配内存空间</span></span>
<span class="line">        data <span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> data</span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;给对象增加实例属性&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span></span>
<span class="line">        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age</span>
<span class="line"></span>
<span class="line">a <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>单例模式(设计模式)</p><p>一个类只能创建一个对象</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># 初始化类属性为空</span></span>
<span class="line">    _instance <span class="token operator">=</span> <span class="token boolean">None</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># 判断类属性是否为空,为空即创建对应的内存空间</span></span>
<span class="line">        <span class="token keyword">if</span> cls<span class="token punctuation">.</span>_instance <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span></span>
<span class="line">            <span class="token comment"># 给实例对象分配内存空间,得到对象引用</span></span>
<span class="line">            cls<span class="token punctuation">.</span>_instance <span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">return</span> cls<span class="token punctuation">.</span>_instance</span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">oy <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token string">&quot;欧阳&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>oy<span class="token punctuation">)</span>  <span class="token comment"># &lt;__main__.A object at 0x00000162193DF730&gt;</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>oy<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment"># 欧阳</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>oy<span class="token punctuation">.</span>age<span class="token punctuation">)</span>  <span class="token comment"># 18</span></span>
<span class="line"></span>
<span class="line">bf <span class="token operator">=</span> A<span class="token punctuation">(</span><span class="token string">&quot;不凡&quot;</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>bf<span class="token punctuation">)</span>  <span class="token comment"># &lt;__main__.A object at 0x00000162193DF730&gt;</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>bf<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment"># 不凡</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>bf<span class="token punctuation">.</span>age<span class="token punctuation">)</span>  <span class="token comment"># 35</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-异常" tabindex="-1"><a class="header-anchor" href="#_4-异常"><span>4.异常</span></a></h2><p>异常：在程序执行过程中有逻辑等的其他错误导致程序终止运行。</p><p>异常处理：在程序中，将觉得有问题的代码进行处理，让程序运行时，不为其因错误而终止。</p><h3 id="_4-1-异常错误" tabindex="-1"><a class="header-anchor" href="#_4-1-异常错误"><span>4.1 异常错误</span></a></h3><p>1.语法错误：语法错误是可以避免——SyntaxError</p><p>2.逻辑错误</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># NameError  未定义</span></span>
<span class="line"><span class="token comment"># ValueError 类型错误，不同数据类型之间的无效操作</span></span>
<span class="line"><span class="token comment"># IndexError 索引超过范围</span></span>
<span class="line"><span class="token comment"># KeyError 键不存在</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-异常处理" tabindex="-1"><a class="header-anchor" href="#_4-2-异常处理"><span>4.2 异常处理</span></a></h3><p>语法格式:</p><blockquote><p>Exception:可以捕获所有的异常</p></blockquote><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">    代码块<span class="token punctuation">(</span>有可能有问题的代码<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">except</span> 异常类型<span class="token punctuation">:</span></span>
<span class="line">    代码<span class="token punctuation">(</span>判断上述是指定异常的类型则执行，否则不执行<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">    这里的代码在<span class="token keyword">try</span>中的代码是没有异常的情况下执行</span>
<span class="line"><span class="token keyword">finally</span><span class="token punctuation">:</span></span>
<span class="line">    不管代码有没有异常都会执行，一般用于释放资源</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">name_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;小红&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;小美&quot;</span><span class="token punctuation">]</span></span>
<span class="line">info_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>name_list<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>info_dict<span class="token punctuation">[</span><span class="token string">&quot;height&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">except</span> IndexError <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;IndexError&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">except</span> KeyError <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;KeyError&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># as 变量名：作用是获取错误信息</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Exception&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;不影响程序的继续执行&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">def</span> <span class="token function">divide</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">        result <span class="token operator">=</span> a <span class="token operator">/</span> b</span>
<span class="line">        <span class="token keyword">return</span> result</span>
<span class="line">    <span class="token keyword">except</span> ZeroDivisionError<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;错误,除数不能为0&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>divide<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>divide<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">name_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;小红&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;小美&quot;</span><span class="token punctuation">]</span></span>
<span class="line">info_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>name_list<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>info_dict<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Exception&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;代码没有问题&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">finally</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;不管有没有异常都会执行,一般用于释放资源&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当在函数或方法中定义异常处理代码时候,要特别注意finally 和return</p><p>在try和except中即使定义了return,也会执行最后的finally中的代码</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">        name <span class="token operator">=</span> <span class="token string">&quot;小明&quot;</span></span>
<span class="line">        <span class="token keyword">return</span> name</span>
<span class="line">    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">pass</span></span>
<span class="line">    <span class="token keyword">finally</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;执行&quot;</span><span class="token punctuation">)</span></span>
<span class="line">func<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-assert断言" tabindex="-1"><a class="header-anchor" href="#_4-3-assert断言"><span>4.3 assert断言</span></a></h3><p>发送AssertionError异常错误</p><p>当表达式不成立时，程序不往下继续执行</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">assert</span> 判断表达式<span class="token punctuation">,</span>返回异常信息（当判断表达式的值为<span class="token boolean">False</span>时执行）</span>
<span class="line"><span class="token comment"># 判断表达式的结果要是bool类型</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># score = int(input(&quot;请输入分数:&quot;))</span></span>
<span class="line"><span class="token comment"># # 断言考试分数是否位于正常范围内</span></span>
<span class="line"><span class="token comment"># assert 0 &lt;= score &lt;= 100, &quot;分数有问题,不在0-100之间&quot;</span></span>
<span class="line"><span class="token comment"># print(f&quot;数学分数:{score}&quot;)</span></span>
<span class="line"></span>
<span class="line">res <span class="token operator">=</span> <span class="token string">&quot;今天是周四&quot;</span></span>
<span class="line"><span class="token keyword">assert</span> <span class="token string">&quot;周四&quot;</span> <span class="token keyword">in</span> res<span class="token punctuation">,</span> <span class="token string">&quot;不存在&quot;</span></span>
<span class="line"><span class="token keyword">assert</span> <span class="token string">&quot;周三&quot;</span> <span class="token keyword">in</span> res<span class="token punctuation">,</span> <span class="token string">&quot;不存在&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4-定义异常" tabindex="-1"><a class="header-anchor" href="#_4-4-定义异常"><span>4.4 定义异常</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;返回的异常信息&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">def</span> <span class="token function">register</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">6</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;密码长度必须为6位&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    data <span class="token operator">=</span> <span class="token string-interpolation"><span class="token string">f&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>username<span class="token punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token punctuation">{</span>password<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span></span>
<span class="line">    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;info.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></span>
<span class="line">        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">register<span class="token punctuation">(</span><span class="token string">&quot;xiaoming&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;666666&quot;</span><span class="token punctuation">)</span></span>
<span class="line">register<span class="token punctuation">(</span><span class="token string">&quot;xiaomei&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;88888888&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">MyException1</span><span class="token punctuation">(</span>Exception<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    obj <span class="token operator">=</span> <span class="token string">&quot;格式错误&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">MyException2</span><span class="token punctuation">(</span>Exception<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    obj <span class="token operator">=</span> <span class="token string">&quot;逻辑错误&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># raise MyException1(&quot;错误&quot;)</span></span>
<span class="line">    <span class="token keyword">raise</span> MyException2<span class="token punctuation">(</span><span class="token string">&quot;错误&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">except</span> MyException1 <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>obj<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">except</span> MyException2 <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>obj<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="小练习" tabindex="-1"><a class="header-anchor" href="#小练习"><span>小练习</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token number">1.</span>补充代码实现捕获程序中的错误。</span>
<span class="line"><span class="token keyword">def</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">yield</span> <span class="token number">1</span></span>
<span class="line">    <span class="token keyword">yield</span> <span class="token number">2</span></span>
<span class="line">    <span class="token keyword">yield</span> <span class="token number">3</span></span>
<span class="line"></span>
<span class="line">g <span class="token operator">=</span> func<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">        data <span class="token operator">=</span> <span class="token builtin">next</span><span class="token punctuation">(</span>g<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">except</span> StopIteration<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;数据获取结束&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line"></span>
<span class="line">    </span>
<span class="line"><span class="token number">2.</span>补充代码实现捕获程序中的错误。（注意：该场景只是用于练习，在实际开发中对于这种情况建议做判断处理）</span>
<span class="line"><span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">    number <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token string">&quot;小明同学&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">except</span> ValueError<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;类型错误&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token number">3.</span>补充代码实现捕获程序中的错误。（注意：该场景只是用于练习，在实际开发中对于这种情况建议做判断处理）</span>
<span class="line">num_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">    num_list<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">except</span> IndexError<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;索引超出范围&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token number">4.</span>补充代码实现捕获程序中的错误。（注意：该场景只是用于练习，在实际开发中对于这种情况建议做判断处理）</span>
<span class="line">data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;k1&quot;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;k2&quot;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">    data<span class="token punctuation">[</span><span class="token string">&quot;xx&quot;</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">except</span> KeyError<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;键不存在&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,61)])])}const o=s(t,[["render",l]]),u=JSON.parse('{"path":"/python/20_%E7%BB%91%E5%AE%9A%E6%96%B9%E6%B3%95_%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95_%E5%BC%82%E5%B8%B8.html","title":"绑定方法+内置方法+异常","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"上节课回顾","slug":"上节课回顾","link":"#上节课回顾","children":[]},{"level":2,"title":"1.绑定与非绑定","slug":"_1-绑定与非绑定","link":"#_1-绑定与非绑定","children":[{"level":3,"title":"1.1 类方法","slug":"_1-1-类方法","link":"#_1-1-类方法","children":[]},{"level":3,"title":"1.2 静态方法（非绑定）","slug":"_1-2-静态方法-非绑定","link":"#_1-2-静态方法-非绑定","children":[]}]},{"level":2,"title":"2.检查类型","slug":"_2-检查类型","link":"#_2-检查类型","children":[]},{"level":2,"title":"3.内置方法（了解）","slug":"_3-内置方法-了解","link":"#_3-内置方法-了解","children":[{"level":3,"title":"3.1 信息格式化方法","slug":"_3-1-信息格式化方法","link":"#_3-1-信息格式化方法","children":[]},{"level":3,"title":"3.2 析构方法","slug":"_3-2-析构方法","link":"#_3-2-析构方法","children":[]}]},{"level":2,"title":"4.异常","slug":"_4-异常","link":"#_4-异常","children":[{"level":3,"title":"4.1 异常错误","slug":"_4-1-异常错误","link":"#_4-1-异常错误","children":[]},{"level":3,"title":"4.2 异常处理","slug":"_4-2-异常处理","link":"#_4-2-异常处理","children":[]},{"level":3,"title":"4.3 assert断言","slug":"_4-3-assert断言","link":"#_4-3-assert断言","children":[]},{"level":3,"title":"4.4 定义异常","slug":"_4-4-定义异常","link":"#_4-4-定义异常","children":[]}]},{"level":2,"title":"小练习","slug":"小练习","link":"#小练习","children":[]}],"git":{},"filePathRelative":"python/20_绑定方法+内置方法+异常.md"}');export{o as comp,u as data};
