import{_ as s,c as a,a as e,o as l}from"./app-C3PhOBn2.js";const t={};function i(c,n){return l(),a("div",null,[...n[0]||(n[0]=[e(`<h2 id="事件等级" tabindex="-1"><a class="header-anchor" href="#事件等级"><span>事件等级</span></a></h2><p>事件等级分为 DOM Level 0、DOM Level 2 和 DOM Level 3 三个级别</p><ul><li>原始事件模型：早期的 Web 开发使用的是原始的事件模型，它主要基于 DOM Level 0 事件处理。这种模型没有明确的事件流程，事件处理程序直接附加到特定的事件属性上，例如 <code>onclick</code>、<code>onkeydown</code> 等。这种模型的缺点是只能附加一个事件处理程序，并且无法控制事件的传播和捕获</li><li>DOM Level 2 事件模型：DOM Level 2 事件模型引入了更强大和灵活的事件处理机制。它引入了事件流的概念，将事件分为三个阶段：捕获阶段、目标阶段和冒泡阶段。这种模型允许在每个阶段注册多个事件处理程序，并且可以控制事件的传播和阻止默认行为。</li><li>DOM Level 3 事件模型：DOM Level 3 事件模型在 DOM Level 2 的基础上进行了进一步改进和扩展。它引入了更多的事件类型 如鼠标滚轮事件（mousewheel）等 、增加了对命名空间的支持，并提供了更多的事件处理方法和属性。此外，DOM Level 3 事件模型还引入了更严格的事件命名规范</li></ul><h2 id="事件绑定" tabindex="-1"><a class="header-anchor" href="#事件绑定"><span>事件绑定</span></a></h2><ul><li>DOM 0级绑定事件 <ul><li>element.on + type = function(){}</li><li><code>type </code>：要监听的事件类型，比如 &quot;click&quot;、&quot;keydown&quot; 等。</li></ul></li><li>DOM 3级事件 <ul><li><code>element.addEventListener(type , callback, options);</code></li><li><code>type </code>：要监听的事件类型，比如 &quot;click&quot;、&quot;keydown&quot; 等。</li><li><code>callback</code>：事件处理程序函数，即处理事件发生时要执行的代码。</li><li><code>options</code>（可选）： <ul><li>一个布尔值，表示事件是在捕获阶段（<code>true</code>）还是冒泡阶段（<code>false</code>）被处理。默认为 <code>false</code>，即在冒泡阶段处理事件</li><li>once: 一个布尔值，表示 <code>listener</code> 在添加之后最多只调用一次。如果为 <code>true</code>，<code>listener</code> 会在其被调用之后自动移除 <code>box.addEventListener(&quot;click&quot;,()=&gt;{console.log(12)},{once: true});</code></li><li>passive: 一个布尔值，设置为 <code>true</code> 时，表示 <code>listener</code> 永远不会调用 <code>preventDefault()</code><ul><li>使用 passive 改善滚屏性能, 默认为false</li></ul></li></ul></li></ul></li></ul><h2 id="事件对象" tabindex="-1"><a class="header-anchor" href="#事件对象"><span>事件对象</span></a></h2><p>是在触发事件时由浏览器自动创建的对象，它包含了与事件相关的信息和属性。</p><ul><li>type：事件的类型，如 &quot;click&quot;、&quot;keydown&quot; 等。</li><li>target：触发事件的元素，即事件的目标对象。</li><li>currentTarget：当前正在处理事件的元素，即事件的当前目标对象。</li><li>preventDefault()：阻止事件的默认行为。</li><li>stopPropagation()：停止事件在事件流中的传播。</li><li>timeStamp：事件的时间戳，表示事件发生的时间</li></ul><h3 id="鼠标位置" tabindex="-1"><a class="header-anchor" href="#鼠标位置"><span>鼠标位置</span></a></h3><ul><li><code>clientX clientY</code> 鼠标指针相对于浏览器窗口（视口）的水平和垂直坐标</li><li><code>pageX pageY </code> 鼠标指针相对于整个页面文档的水平和垂直坐标</li><li><code>offsetX offsetY</code> 鼠标指针相对于事件目标元素的水平和垂直偏移量</li><li><code>screenX screenY</code> 鼠标到用户屏幕的距离。</li></ul><h2 id="事件流" tabindex="-1"><a class="header-anchor" href="#事件流"><span>事件流</span></a></h2><p>描述事件在文档中传播和触发的过程。它涉及到事件的捕获阶段、目标阶段和冒泡阶段.</p><ul><li>捕获阶段（Capture Phase）： <ul><li>事件从文档根节点（window）开始向下传播，依次经过父级元素，直到达到事件的目标元素。</li><li>在捕获阶段，如果在任何一个元素上绑定了捕获阶段的事件处理程序，它们将按照从外到内的顺序被触发。</li><li>阻止捕获阶段往下触发 <code>event.stopPropagation()</code></li></ul></li><li>目标阶段（Target Phase）： <ul><li>事件到达目标元素，即事件的目标对象。</li><li>如果目标元素上绑定了事件处理程序，它将被触发。</li></ul></li><li>冒泡阶段（Bubble Phase）： <ul><li>事件从目标元素开始向上冒泡，依次经过父级元素，直到达到文档根节点。</li><li>在冒泡阶段，如果在任何一个元素上绑定了冒泡阶段的事件处理程序，它们将按照从内到外的顺序被触发</li><li>阻止冒泡阶段往上触发 <code>event.stopPropagation()</code></li></ul></li></ul><h2 id="事件区别" tabindex="-1"><a class="header-anchor" href="#事件区别"><span>事件区别</span></a></h2><p>在事件处理方面，DOM0级和DOM2级事件有以下区别：</p><ul><li>事件处理方式： <ul><li>在DOM0级事件处理中，事件处理程序直接附加到元素的事件属性上，例如<code>onclick</code>、<code>onkeydown</code>等。这种方式只能附加一个事件处理程序，如果要添加多个处理程序，后面的处理程序会覆盖前面的处理程序。</li><li>DOM2级事件处理引入了更灵活的事件处理方式。通过<code>addEventListener</code>方法，可以向元素添加多个事件处理程序，并且不会覆盖已存在的处理程序</li></ul></li><li>事件流模型 <ul><li>DOM0级事件处理没有明确的事件流模型，事件的传播顺序是固定的，从目标元素开始，一直冒泡到文档根节点。</li><li>DOM2级事件处理引入了事件流的概念，将事件分为三个阶段：捕获阶段、目标阶段和冒泡阶段。 <ul><li>事件首先从文档根节点开始向下传播，然后到达目标元素，最后再从目标元素向上冒泡回文档根节点。</li><li>开发者可以在不同阶段注册事件处理程序，并控制事件的传播和处理顺序</li></ul></li></ul></li></ul><h2 id="事件解绑" tabindex="-1"><a class="header-anchor" href="#事件解绑"><span>事件解绑</span></a></h2><p>是指从元素上移除已绑定的事件处理程序，以停止事件触发时执行相应的代码</p><ul><li><p>使用 removeEventListener() 方法可以移除使用 addEventListener() 方法添加的事件处理程序</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">let</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myButton&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// 处理点击事件的代码</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 添加事件处理程序</span></span>
<span class="line">button<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handleClick<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 解绑事件处理程序</span></span>
<span class="line">button<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> handleClick<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 注意：使用 removeEventListener() 方法移除事件处理程序时，必须提供与绑定时完全相同的事件类型和处理程序函数。否则，移除操作将无效。</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>设置事件属性为 null 或 undefined</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">let</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myButton&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// 处理点击事件的代码</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 添加事件处理程序</span></span>
<span class="line">button<span class="token punctuation">.</span>onclick <span class="token operator">=</span> handleClick<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 解绑事件处理程序</span></span>
<span class="line">button<span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 注意：使用该方法解绑事件时，需要注意将事件属性设置为 null 或 undefined，而不是其他值，如 false 或空函数。</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="键盘事件对象" tabindex="-1"><a class="header-anchor" href="#键盘事件对象"><span>键盘事件对象</span></a></h2><p>\`\`event.key<code></code>event.code\` 的值取决于按下的键以及当前的键盘布局。对于大多数常见的字符键，它会返回对应字符的字符串，例如 &quot;A&quot;、&quot;Enter&quot;、&quot;Escape&quot;</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line">document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;keydown&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;event.key: &quot;</span> <span class="token operator">+</span> event<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,22)])])}const o=s(t,[["render",i]]),u=JSON.parse('{"path":"/javaScript/14-%E4%BA%8B%E4%BB%B6.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"事件等级","slug":"事件等级","link":"#事件等级","children":[]},{"level":2,"title":"事件绑定","slug":"事件绑定","link":"#事件绑定","children":[]},{"level":2,"title":"事件对象","slug":"事件对象","link":"#事件对象","children":[{"level":3,"title":"鼠标位置","slug":"鼠标位置","link":"#鼠标位置","children":[]}]},{"level":2,"title":"事件流","slug":"事件流","link":"#事件流","children":[]},{"level":2,"title":"事件区别","slug":"事件区别","link":"#事件区别","children":[]},{"level":2,"title":"事件解绑","slug":"事件解绑","link":"#事件解绑","children":[]},{"level":2,"title":"键盘事件对象","slug":"键盘事件对象","link":"#键盘事件对象","children":[]}],"git":{},"filePathRelative":"javaScript/14-事件.md"}');export{o as comp,u as data};
