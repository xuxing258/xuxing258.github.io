import{_ as s,c as a,a as p,o as e}from"./app-DOVazbfl.js";const l={};function t(i,n){return e(),a("div",null,[...n[0]||(n[0]=[p(`<h2 id="data" tabindex="-1"><a class="header-anchor" href="#data"><span>data</span></a></h2><blockquote><p>用于声明组件初始响应式状态的函数。</p></blockquote><ul><li>函数应当返回一个普通 JavaScript 对象，Vue 会通过proxy将它转换为响应式对象。</li><li>实例创建后，可以通过 <code>this.$data</code> 访问该响应式对象。</li><li>组件实例也代理了该数据对象上所有的属性，因此 <code>this.a</code> 等价于 <code>this.$data.a</code></li></ul><h2 id="methods" tabindex="-1"><a class="header-anchor" href="#methods"><span>methods</span></a></h2><blockquote><p>用于声明要混入到组件实例中的方法</p></blockquote><ul><li>声明的方法可以直接通过组件实例访问，或者在模板语法表达式中使用。</li><li>所有的方法都会将它们的 <code>this</code> 上下文自动绑定为组件实例，即使在传递时也如此。</li><li>在声明方法时避免使用箭头函数，因为它们不能通过 <code>this</code> 访问组件实例</li></ul><h2 id="computed" tabindex="-1"><a class="header-anchor" href="#computed"><span>computed</span></a></h2><p>模板中的表达式虽然方便，但也只能用来做简单的操作。如果在模板中写太多逻辑，会让模板变得臃肿，难以维护</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code><span class="line"><span class="token comment">&lt;!-- msg: [1, 2, 3, 5, 6] --&gt;</span></span>
<span class="line">{{ msg.reduce((pre,next)=&gt;{ return pre+next },0) }}</span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{ author.books.length &gt; 0 ? &#39;Yes&#39; : &#39;No&#39; }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="理解计算属性" tabindex="-1"><a class="header-anchor" href="#理解计算属性"><span>理解计算属性</span></a></h3><p>使用已存在(data)的数据,进行加工(计算,处理逻辑)返回结果,使模板插值符中代码逻辑不复杂</p><ul><li>computed选项接收一个对象 <ul><li>其中键是计算属性的名称</li><li>值是函数的返回值</li></ul></li><li>computed属性具有 <code>get</code> 和 <code>set</code> 方法的对象 <ul><li>当读取对应属性时, <code>get</code>函数会被调用且返回值会当做属性的值</li><li><code>get</code>函数中所依赖的属性数据发生变化时触发</li><li>当设置computed属性时 <code>set</code>函数会执行</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 只读</span></span>
<span class="line">    <span class="token function">aDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">*</span> <span class="token number">2</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// 可写</span></span>
<span class="line">    <span class="token literal-property property">aPlus</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// get() 所依赖的属性数据发生变化时触发</span></span>
<span class="line">      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token number">1</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="计算属性的-setter" tabindex="-1"><a class="header-anchor" href="#计算属性的-setter"><span>计算属性的 Setter</span></a></h3><p>计算属性默认是只读的。当你尝试修改一个计算属性时会触发set函数</p><ul><li>直接修改computed属性不会更改对象属性值, 只会触发set函数</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">firstName</span><span class="token operator">:</span> <span class="token string">&#39;John&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">lastName</span><span class="token operator">:</span> <span class="token string">&#39;Doe&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">fullName</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&#39; &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName</span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 应该get函数中的数据,从而更改fullName数据</span></span>
<span class="line">      <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">]</span> <span class="token operator">=</span> newValue<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39; &#39;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment">// 报错: 每次赋值都会重新执行set</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> newValue</span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="计算与方法区别" tabindex="-1"><a class="header-anchor" href="#计算与方法区别"><span>计算与方法区别</span></a></h3><p>调用函数获取和计算属性获取是相同的结果</p><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ fullName() }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">methods: {</span>
<span class="line">  fullName() {</span>
<span class="line">	return this.firstName + &#39; &#39; + this.lastName</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>重新渲染时methods方法总会再次执行函数</li><li>计算属性值会基于其响应式依赖进行缓存, 计算属性仅会在其响应式依赖更新时才重新计算</li></ul><h2 id="watch" tabindex="-1"><a class="header-anchor" href="#watch"><span>watch</span></a></h2><p><code>watch</code> 选项期望接受一个对象，其中键是需要侦听的响应式组件实例属性 (例如，通过 <code>data</code> 或 <code>computed</code> 声明的属性)——值是相应的回调函数。该回调函数接受被侦听源的新值和旧值</p><ol><li>用于声明在数据更改时调用的侦听回调,</li><li>在每次响应式属性发生变化时触发侦听函数</li></ol><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token literal-property property">val</span><span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token literal-property property">obj</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token literal-property property">sex</span><span class="token operator">:</span><span class="token string">&quot;女&quot;</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token literal-property property">arr</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;我&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;爱&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;UI&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">    </span>
<span class="line"><span class="token comment">//监听data属性变化</span></span>
<span class="line"><span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 每当 val 改变时，这个函数就会执行</span></span>
<span class="line">    <span class="token function">val</span><span class="token punctuation">(</span><span class="token parameter">newQuestion<span class="token punctuation">,</span> oldQuestion</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newQuestion<span class="token punctuation">,</span> oldQuestion<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// 侦听单个嵌套属性</span></span>
<span class="line">    <span class="token string">&quot;obj.name&quot;</span><span class="token punctuation">(</span>newQuestion<span class="token punctuation">,</span> oldQuestion<span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newQuestion<span class="token punctuation">,</span> oldQuestion<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// 无法监听数据变化,引用类型需要深度监听</span></span>
<span class="line">    <span class="token function">arr</span><span class="token punctuation">(</span><span class="token parameter">newQuestion<span class="token punctuation">,</span> oldQuestion</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newQuestion<span class="token punctuation">,</span> oldQuestion<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="深层侦听器" tabindex="-1"><a class="header-anchor" href="#深层侦听器"><span>深层侦听器</span></a></h3><p>使用对象语法时，回调函数应被声明在 <code>handler</code> 中。额外的选项包含</p><ul><li>immediate：在侦听器创建时立即触发回调。第一次调用时，旧值将为 undefined。</li><li>deep：如果源是对象或数组，则强制深度遍历源，以便在深度变更时触发回调。详见深层侦听器。</li><li>flush：调整回调的刷新时机。 <ul><li>在 Vue 更新<strong>之后</strong>的DOM，你需要指明 <code>flush: &#39;post&#39;</code></li><li>在 Vue 更新**之前的DOM，你需要指明 <code>flush: &#39;sync&#39;</code></li></ul></li><li>onTrack / onTrigger：调试侦听器的依赖关系。详见侦听器调试。</li><li>once: true: 回调只在源变化时触发</li></ul><p>注意: 声明侦听器回调时避免使用箭头函数，因为它们将无法通过 <code>this</code> 访问组件实例</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">d</span><span class="token operator">:</span> <span class="token number">4</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">arr</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;我&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;爱&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;UI&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 该回调将会在被侦听的对象或数组属性改变时调动，无论其被嵌套多深</span></span>
<span class="line">    <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;c changed&#39;</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// 该回调将会在侦听开始之后立即调用</span></span>
<span class="line">    <span class="token literal-property property">e</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;e changed&#39;</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token comment">// 设置dom更新过后执行</span></span>
<span class="line">      <span class="token literal-property property">arr</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="line">          <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newQuestion<span class="token punctuation">,</span> oldQuestion</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">              console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newQuestion<span class="token punctuation">,</span> oldQuestion<span class="token punctuation">)</span></span>
<span class="line">              <span class="token keyword">debugger</span></span>
<span class="line">          <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token literal-property property">flush</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意:在变更(不是替换)对象或数组时，旧值将与新值相同，因为它们的引用指向同一个对象/数组。Vue不会保留变更之前值的副本。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 解决方案</span></span>
<span class="line"><span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">newNumber</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newVal<span class="token punctuation">,</span> oldVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;number.a&#39;</span><span class="token punctuation">,</span> newVal<span class="token punctuation">.</span>a<span class="token punctuation">,</span> oldVal<span class="token punctuation">.</span>a<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">newNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="计算与监听区别" tabindex="-1"><a class="header-anchor" href="#计算与监听区别"><span>计算与监听区别</span></a></h3><p>各有千秋请选择使用: 功能分别方向不同</p><ol><li>compute处理 模板代码逻辑 加工属性数据</li><li>watch监听 监听数据发生变化,做对应的处理</li></ol><blockquote><p>计算属性</p></blockquote><ul><li>计算支持缓存,只有依赖数据发生改变，才会重新进行执行</li><li>计算不支持异步当computed内有异步操作时无效，无法监听数据的变化</li></ul><blockquote><p>监听属性</p></blockquote><ul><li><p>监听不支持缓存，数据发生改变，会直接触发相应的操作</p></li><li><p>监听watch支持异步</p></li></ul><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    {{computedStr}}-{{wacStr}}</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">data(){</span>
<span class="line">    return {</span>
<span class="line">        str: &quot;测试内容&quot;,</span>
<span class="line">        wacStr: &quot;&quot;</span>
<span class="line">    }</span>
<span class="line">},</span>
<span class="line">computed:{</span>
<span class="line">   computedStr(){ </span>
<span class="line">       // return this.str.split(&quot;-&quot;).join(&quot;&quot;).split(&quot;&quot;).map((item)=&gt;{</span>
<span class="line">       //     return item + &quot;-&quot;</span>
<span class="line">       // }).join(&quot;&quot;)</span>
<span class="line"></span>
<span class="line">       // 更新数据之后 1s在修改</span>
<span class="line">       setTimeout(()=&gt;{</span>
<span class="line">           return this.str.split(&quot;-&quot;).join(&quot;&quot;).split(&quot;&quot;).map((item)=&gt;{</span>
<span class="line">               return item + &quot;-&quot;</span>
<span class="line">           }).join(&quot;&quot;)</span>
<span class="line">       },1000)</span>
<span class="line">   },</span>
<span class="line">},</span>
<span class="line">// 监听</span>
<span class="line">watch:{</span>
<span class="line">    str:{</span>
<span class="line">        handler(){</span>
<span class="line">            // this.wacStr = this.str.split(&quot;-&quot;).join(&quot;&quot;).split(&quot;&quot;).map((item)=&gt;{</span>
<span class="line">            //     return item + &quot;-&quot;</span>
<span class="line">            // }).join(&quot;&quot;)</span>
<span class="line"></span>
<span class="line">            setTimeout(()=&gt;{</span>
<span class="line">                this.wacStr = this.str.split(&quot;-&quot;).join(&quot;&quot;).split(&quot;&quot;).map((item)=&gt;{</span>
<span class="line">                    return item + &quot;-&quot;</span>
<span class="line">                }).join(&quot;&quot;)</span>
<span class="line">            },1000)</span>
<span class="line">        },</span>
<span class="line">        immediate:true</span>
<span class="line">    }</span>
<span class="line">},</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,40)])])}const o=s(l,[["render",t]]),u=JSON.parse('{"path":"/vue/vue3-04%E9%80%89%E9%A1%B9%E5%BC%8FAPI.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"data","slug":"data","link":"#data","children":[]},{"level":2,"title":"methods","slug":"methods","link":"#methods","children":[]},{"level":2,"title":"computed","slug":"computed","link":"#computed","children":[{"level":3,"title":"理解计算属性","slug":"理解计算属性","link":"#理解计算属性","children":[]},{"level":3,"title":"计算属性的 Setter","slug":"计算属性的-setter","link":"#计算属性的-setter","children":[]},{"level":3,"title":"计算与方法区别","slug":"计算与方法区别","link":"#计算与方法区别","children":[]}]},{"level":2,"title":"watch","slug":"watch","link":"#watch","children":[{"level":3,"title":"深层侦听器","slug":"深层侦听器","link":"#深层侦听器","children":[]},{"level":3,"title":"计算与监听区别","slug":"计算与监听区别","link":"#计算与监听区别","children":[]}]}],"git":{},"filePathRelative":"vue/vue3-04选项式API.md"}');export{o as comp,u as data};
