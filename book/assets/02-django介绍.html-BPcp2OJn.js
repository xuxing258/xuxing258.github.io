import{_ as s,c as a,a as p,o as e}from"./app-hJI7UlmO.js";const l="/book/assets/day2%E5%88%9B%E5%BB%BAdjango%E9%A1%B9%E7%9B%AE-BmI1IGMt.png",t={};function i(c,n){return e(),a("div",null,[...n[0]||(n[0]=[p(`<h1 id="django介绍" tabindex="-1"><a class="header-anchor" href="#django介绍"><span>django介绍</span></a></h1><p>python下有许多款不同的web框架,django是其中具有代表性的一种.</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># MVT</span></span>
<span class="line">	M<span class="token punctuation">:</span>model<span class="token punctuation">,</span>和mvc中的m功能相同<span class="token punctuation">,</span>负责和数据库交互<span class="token punctuation">,</span>进行数据处理</span>
<span class="line">    V<span class="token punctuation">:</span>view<span class="token punctuation">,</span>和mvc中的c功能相同<span class="token punctuation">,</span>接收请求<span class="token punctuation">,</span>进行业务处理<span class="token punctuation">,</span>返回应答</span>
<span class="line">    T<span class="token punctuation">:</span>tempalte<span class="token punctuation">,</span>负责封装构造要返回的html文件</span>
<span class="line"></span>
<span class="line"><span class="token comment"># MVC</span></span>
<span class="line">	M<span class="token punctuation">:</span>model<span class="token punctuation">,</span>模型<span class="token punctuation">,</span>用于操作数据库</span>
<span class="line">    V<span class="token punctuation">:</span>view<span class="token punctuation">,</span>视图<span class="token punctuation">,</span>里面的代码就是用于展示给客户端的页面效果</span>
<span class="line">    C<span class="token punctuation">:</span>controller<span class="token punctuation">,</span>控制器<span class="token punctuation">,</span>一个类或者函数<span class="token punctuation">.</span>一般用于调用模型来获取数据<span class="token punctuation">,</span>获取到的数据通过视图文件返回给客户端</span>
<span class="line">        </span>
<span class="line">        </span>
<span class="line">所以学习django重点四个部分<span class="token punctuation">:</span>url路由<span class="token operator">+</span>MVT</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>安装模块</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">pip install django<span class="token operator">==</span><span class="token number">4.2</span></span>
<span class="line">pip install mysqlclient</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># 如何让计算机能够正常运行启动django项目</span></span>
<span class="line"><span class="token number">1.</span>计算机名称不能有中文</span>
<span class="line"><span class="token number">2.</span>项目文件夹路径也最好不要有中文</span>
<span class="line"><span class="token number">3.</span>一个pycharm窗口也只开一个django项目</span>
<span class="line"><span class="token number">4.</span>不能运行单个的py文件</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="django基本操作" tabindex="-1"><a class="header-anchor" href="#django基本操作"><span>django基本操作</span></a></h2><ul><li>命令行操作</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token number">1.</span>创建django项目</span>
<span class="line">	<span class="token number">1.1</span> 切换到指定路径<span class="token punctuation">(</span>路径下不能包含中文<span class="token punctuation">)</span><span class="token punctuation">:</span>cd 路径<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>只用用于c盘直接操作</span>
<span class="line">        如果是d盘<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>先d<span class="token punctuation">:</span>进行切盘<span class="token punctuation">,</span>再cd 路径切换</span>
<span class="line">    <span class="token number">1.2</span> 执行命令<span class="token punctuation">:</span>django<span class="token operator">-</span>admin startproject 项目名</span>
<span class="line">        </span>
<span class="line"><span class="token number">2.</span>启动django项目</span>
<span class="line">	<span class="token number">2.1</span> 切换到manage<span class="token punctuation">.</span>py同级目录下操作 </span>
<span class="line">    <span class="token number">2.2</span> 执行命令<span class="token punctuation">:</span>python manage<span class="token punctuation">.</span>py runserver</span>
<span class="line">    <span class="token number">2.3</span> ctrl<span class="token operator">+</span>c停止项目运行</span>
<span class="line">    </span>
<span class="line"><span class="token number">3.</span>创建app<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>功能</span>
<span class="line">	<span class="token number">3.1</span> 切换到manage<span class="token punctuation">.</span>py同级目录下操作 </span>
<span class="line">    <span class="token number">3.2</span> 执行命令<span class="token punctuation">:</span>python manage<span class="token punctuation">.</span>py startapp 应用名</span>
<span class="line">    <span class="token number">3.3</span> 注册应用<span class="token punctuation">:</span></span>
<span class="line">        在项目同名字的文件夹中的settings<span class="token punctuation">.</span>py文件中进行注册<span class="token punctuation">:</span></span>
<span class="line">            INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">                <span class="token string">&#39;django.contrib.admin&#39;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&#39;django.contrib.auth&#39;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&#39;django.contrib.contenttypes&#39;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&#39;django.contrib.sessions&#39;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&#39;django.contrib.messages&#39;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&#39;django.contrib.staticfiles&#39;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&#39;app01&#39;</span>  <span class="token comment"># 直接以字符串的形式写入应用名字即可注册</span></span>
<span class="line">            <span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>pycharm操作 <img src="`+l+`"></p></li><li><p>pycharm运行django项目</p><p>必须确保运行的是整个项目文件才能点击运行按钮</p></li><li><p>命令行与pycharm创建的区别</p><ul><li>命令行创建不会自动有templates文件夹,需要手动创建.而pycharm会自动创建且会在settings.py文件中配置好tamplates文件夹的路径</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">TEMPLATES <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&#39;BACKEND&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;django.template.backends.django.DjangoTemplates&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;DIRS&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span> BASE_DIR  <span class="token operator">/</span> <span class="token string">&#39;templates&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># 配置路径</span></span>
<span class="line">        <span class="token string">&#39;APP_DIRS&#39;</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&#39;OPTIONS&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&#39;context_processors&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span></span>
<span class="line">                <span class="token string">&#39;django.template.context_processors.debug&#39;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&#39;django.template.context_processors.request&#39;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&#39;django.contrib.auth.context_processors.auth&#39;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&#39;django.contrib.messages.context_processors.messages&#39;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在使用pycharm创建项目时,可以自动创建一个app然后自动注册号,但是只能自动创建一个,后续还想创建应用得手动通过命令创建,在去settings.py中的INSTALLED_APPS列表中进行注册.</li></ul></li></ul><h2 id="主要文件介绍" tabindex="-1"><a class="header-anchor" href="#主要文件介绍"><span>主要文件介绍</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">mysite项目文件夹</span>
<span class="line">	<span class="token operator">-</span>mysite项目同名文件夹</span>
<span class="line">    	<span class="token operator">-</span><span class="token operator">-</span>settings<span class="token punctuation">.</span>py<span class="token punctuation">:</span>配置文件</span>
<span class="line">        <span class="token operator">-</span><span class="token operator">-</span>urls<span class="token punctuation">.</span>py<span class="token punctuation">:</span>路由与视图对应关系</span>
<span class="line">        <span class="token operator">-</span><span class="token operator">-</span>wsgi<span class="token punctuation">.</span>py<span class="token punctuation">:</span>wsgiref模块使用<span class="token punctuation">(</span>不考虑<span class="token punctuation">)</span></span>
<span class="line">    	</span>
<span class="line">    <span class="token operator">-</span>manage<span class="token punctuation">.</span>py文件<span class="token punctuation">:</span>dajngo的入口文件</span>
<span class="line">        </span>
<span class="line">    <span class="token operator">-</span>app01应用文件夹</span>
<span class="line">    	<span class="token operator">-</span><span class="token operator">-</span>admin<span class="token punctuation">.</span>py<span class="token punctuation">:</span>django后台管理</span>
<span class="line">        <span class="token operator">-</span><span class="token operator">-</span>apps<span class="token punctuation">.</span>py<span class="token punctuation">:</span>注册应用使用</span>
<span class="line">        <span class="token operator">-</span><span class="token operator">-</span>models<span class="token punctuation">.</span>py<span class="token punctuation">:</span>数据库相关的模型类<span class="token punctuation">(</span>orm<span class="token punctuation">)</span></span>
<span class="line">        <span class="token operator">-</span><span class="token operator">-</span>tests<span class="token punctuation">.</span>py<span class="token punctuation">:</span>测试文件</span>
<span class="line">        <span class="token operator">-</span><span class="token operator">-</span>views<span class="token punctuation">.</span>py<span class="token punctuation">:</span>视图层</span>
<span class="line">        <span class="token operator">-</span><span class="token operator">-</span>migrations文件夹<span class="token punctuation">:</span>数据库迁移记录</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="settings-py配置介绍" tabindex="-1"><a class="header-anchor" href="#settings-py配置介绍"><span>settings.py配置介绍</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">BASE_DIR<span class="token punctuation">:</span>项目根目录路径</span>
<span class="line">    </span>
<span class="line">DEBUG<span class="token punctuation">:</span>用于配置django项目的启动模式<span class="token punctuation">,</span>取值<span class="token boolean">True</span><span class="token punctuation">:</span>表示在开发环境中使用调试模式<span class="token punctuation">(</span>可以看到报错<span class="token punctuation">)</span><span class="token punctuation">;</span>取值<span class="token boolean">False</span>表示在生成环境中<span class="token punctuation">(</span>不会在前端展示报错<span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">ALLOWED_HOSTS<span class="token punctuation">:</span>设置允许访问到本项目的ip地址<span class="token punctuation">,</span>取值<span class="token punctuation">:</span></span>
<span class="line">    <span class="token number">1.</span><span class="token punctuation">[</span><span class="token punctuation">]</span>空列表<span class="token punctuation">.</span>表示只有请求头为<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>或者localhost能访问本项目<span class="token punctuation">(</span>在DEBUG<span class="token operator">=</span><span class="token boolean">True</span>时生效<span class="token punctuation">)</span></span>
<span class="line">    <span class="token number">2.</span><span class="token punctuation">[</span><span class="token string">&#39;*&#39;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>表示任何请求的host都能访问到当前项目</span>
<span class="line">    <span class="token number">3.</span><span class="token punctuation">[</span><span class="token string">&#39;127.0.0.1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;192.168.1.3&#39;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>表示只有当前两个能够访问</span>
<span class="line">    <span class="token number">4.</span>注意<span class="token punctuation">:</span>如果要在局域网中其他主机也能访问此主机<span class="token punctuation">,</span>启动方式应该改为<span class="token punctuation">:</span>python manage<span class="token punctuation">.</span>py runserver <span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token punctuation">:</span><span class="token number">5000</span><span class="token punctuation">,</span>然后在ALLOWED_HOSTS加上运行访问的内网ip</span>
<span class="line">                </span>
<span class="line">                </span>
<span class="line">INSTALLED_APPS<span class="token punctuation">:</span>注册app</span>
<span class="line">    </span>
<span class="line">MIDDLEWARE<span class="token punctuation">:</span>用于注册中间件</span>
<span class="line">    </span>
<span class="line">ROOT_URLCONF<span class="token punctuation">:</span>项目根路由</span>
<span class="line"></span>
<span class="line">TEMPLATES<span class="token punctuation">:</span> html文件存放路径配置</span>
<span class="line">    </span>
<span class="line">DATABASES<span class="token punctuation">:</span>项目指定数据库连接</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="url介绍" tabindex="-1"><a class="header-anchor" href="#url介绍"><span>url介绍</span></a></h2><p>统一资源定位符,用来表示互联网上某个资源的地址</p><p>互联网上的每个文件都有一个唯一的url,包含的信息指出了文件的位置以及浏览器应该怎么处理它</p><ul><li>基本语法:</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">protocol<span class="token punctuation">:</span><span class="token operator">//</span>ip<span class="token punctuation">[</span><span class="token punctuation">:</span>port<span class="token punctuation">]</span><span class="token operator">/</span>path<span class="token punctuation">[</span>?query<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token comment">#fragment]</span></span>
<span class="line">    </span>
<span class="line">如<span class="token punctuation">:</span>http<span class="token punctuation">:</span><span class="token operator">//</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">/</span>index<span class="token operator">/</span>?<span class="token builtin">id</span><span class="token operator">=</span><span class="token number">1</span></span>
<span class="line">    </span>
<span class="line">protocol<span class="token punctuation">:</span>协议</span>
<span class="line">    </span>
<span class="line">ip<span class="token punctuation">:</span>ip地址<span class="token operator">/</span>或者主机名<span class="token operator">/</span>或者域名</span>
<span class="line">    </span>
<span class="line">port<span class="token punctuation">:</span>端口号<span class="token punctuation">(</span><span class="token number">80</span>端口可以省略<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">path<span class="token punctuation">:</span>路由地址<span class="token punctuation">.</span>由<span class="token operator">/</span>隔开的字符串<span class="token punctuation">,</span>一般用来表示复制<span class="token punctuation">.</span>路由地址决定了服务器如何处理这个请求</span>
<span class="line">    </span>
<span class="line">query<span class="token punctuation">:</span>查询<span class="token punctuation">.</span>可选<span class="token punctuation">.</span>用于给动态网页传递参数<span class="token punctuation">.</span>可以零个或多个<span class="token punctuation">,</span>多个参数用<span class="token operator">&amp;</span>连接<span class="token punctuation">,</span>每个参数和值用<span class="token operator">=</span>连接</span>
<span class="line">   </span>
<span class="line">fragment<span class="token punctuation">:</span>信息片段<span class="token punctuation">.</span>可选</span>
<span class="line">    </span>
<span class="line"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">:</span>表示内容可以省略</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="django如何处理一个url对应的请求" tabindex="-1"><a class="header-anchor" href="#django如何处理一个url对应的请求"><span>django如何处理一个url对应的请求</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">http<span class="token punctuation">:</span><span class="token operator">//</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">/</span>index<span class="token operator">/</span></span>
<span class="line">    </span>
<span class="line"><span class="token number">1</span><span class="token punctuation">.</span>django从配置文件中根据ROOT_URLCONF找到主路由文件<span class="token punctuation">;</span>默认情况下该文件在项目同名目录下的urls<span class="token punctuation">.</span>py</span>
<span class="line"><span class="token number">2</span><span class="token punctuation">.</span>django加载主路由文件中的urlpatterns变量</span>
<span class="line"><span class="token number">3.</span>依次匹配urlpatterns中的路由<span class="token punctuation">,</span>匹配到第一个合适的中断后续匹配</span>
<span class="line"><span class="token number">4.</span>匹配成功<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>调用对应的视图处理请求<span class="token punctuation">,</span>返回响应</span>
<span class="line"><span class="token number">5.</span>匹配失败<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>返回<span class="token number">404</span>响应</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>今天完成项目和应用的创建以及应用的注册</p>`,23)])])}const u=s(t,[["render",i]]),r=JSON.parse('{"path":"/django/02-django%E4%BB%8B%E7%BB%8D.html","title":"django介绍","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]},{"level":2,"title":"django基本操作","slug":"django基本操作","link":"#django基本操作","children":[]},{"level":2,"title":"主要文件介绍","slug":"主要文件介绍","link":"#主要文件介绍","children":[{"level":3,"title":"settings.py配置介绍","slug":"settings-py配置介绍","link":"#settings-py配置介绍","children":[]}]},{"level":2,"title":"url介绍","slug":"url介绍","link":"#url介绍","children":[{"level":3,"title":"django如何处理一个url对应的请求","slug":"django如何处理一个url对应的请求","link":"#django如何处理一个url对应的请求","children":[]}]}],"git":{},"filePathRelative":"django/02-django介绍.md"}');export{u as comp,r as data};
