import{_ as s,c as a,a as p,o as t}from"./app-BD3X-Yt7.js";const e={};function l(o,n){return t(),a("div",null,[...n[0]||(n[0]=[p(`<h2 id="geolocation" tabindex="-1"><a class="header-anchor" href="#geolocation"><span>Geolocation</span></a></h2><p><strong><code>Navigator</code></strong> 接口代表了用户代理的状态和身份</p><p><strong>Geolocation</strong> 接口是一个用来获取设备地理位置的可编程的对象，它可以让 Web 内容访问到设备的地理位置，这将允许 Web 应用基于用户的地理位置提供定制的信息。说实话：其实**<code>Geolocation</code>** 就是用来获取到当前设备的经纬度</p><p><strong>Navigator.geolocation</strong> 只读属性返回一个 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Geolocation" target="_blank" rel="noopener noreferrer"><code>Geolocation</code></a> 对象，通过这个对象可以访问到设备的位置信息。使网站或应用可以根据用户的位置提供个性化结果</p><p><strong>备注：</strong> 出于安全考虑，当网页请求获取用户位置信息时，用户会被提示进行授权。注意不同浏览器在请求权限时有不同的策略和方式。Windows 10 在未开启定位的情况下无法获取位置</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// 浏览器支持Geolocation API</span></span>
<span class="line"> 	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// 浏览器不支持Geolocation API</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="api" tabindex="-1"><a class="header-anchor" href="#api"><span>API</span></a></h3><ul><li>Geolocation.getCurrentPosition(<em>success</em>,<em>error</em> ) <ul><li>方法用来获取设备当前位置</li><li><em>success</em> 成功得到位置信息时的回调函数，使用<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/GeolocationPosition" target="_blank" rel="noopener noreferrer"><code>Position</code></a> 对象作为唯一的参数。</li><li><em>error</em> 可选获取位置信息失败时的回调函数，使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/GeolocationPositionError" target="_blank" rel="noopener noreferrer"><code>PositionError</code></a> 对象作为唯一的参数</li><li>浏览器获取地理条件 <ul><li>用户必须授权共享地理位置信息。</li><li>网站必须使用HTTPS协议而非HTTP协议，否则无法访问该API。</li><li>如果网站使用了子域名，则需要保证所有子域名都使用了HTTPS协议，否则会被认为不安全而被拒绝访问</li></ul></li></ul></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code><span class="line"><span class="token comment">// 百度地址获取失败</span></span>
<span class="line">navigator<span class="token punctuation">.</span>geolocation<span class="token punctuation">.</span><span class="token function">getCurrentPosition</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token parameter">position</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;当前位置：&#39;</span><span class="token punctuation">,</span> position<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;获取位置信息失败：&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在谷歌浏览器中，要授权共享地理位置信息，需要按照以下步骤操作：</p><ol><li><p>打开谷歌浏览器，并进入要访问的网站。</p></li><li><p>如果该网站需要获取您的地理位置信息，则会弹出一个请求对话框，询问是否同意共享位置信息。点击“允许”即可授权共享位置信息。</p></li><li><p>如果之前曾经拒绝授权或者选择了“不再询问”，则需要在浏览器设置中重新开启共享位置信息功能：</p><p>(1) 点击浏览器右上角的菜单按钮（三个竖点）。</p><p>(2) 选择“设置” -&gt; “隐私与安全” -&gt; “内容设置”。</p><p>(3) 滚动页面并找到“位置”选项，点击进入。</p><p>(4) 找到要授权共享位置信息的网站，点击“清除数据”后再次进入该网站即可重新授权共享位置信息。</p></li></ol><p>需要注意的是，为了保护用户隐私，现代浏览器已经采取了一系列措施来限制第三方网站获取用户的位置信息。因此，在网站中应该使用合适的方式提示用户授权，并且仅在必要情况下才收集和使用该信息。</p><h2 id="百度地图api" tabindex="-1"><a class="header-anchor" href="#百度地图api"><span>百度地图API</span></a></h2><ol><li><p>先申请成为百度开发者（需要填写身份证信息、申请理由等），创建地图应用生成 <strong>AK</strong>。<a href="https://lbsyun.baidu.com/index.php?title=%E9%A6%96%E9%A1%B5" target="_blank" rel="noopener noreferrer">百度地图开放平台 | 百度地图API SDK | 地图开发 (baidu.com)</a></p></li><li><p>注册账号之后,实名认证</p></li><li><p>获取密钥</p><ul><li>点击创建应用</li><li>白名单输入<code>*</code>号，所有地址都可以访问。</li></ul></li></ol><p>复制你的AK放入案例的示例代码即可看到效果</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://api.map.baidu.com/api?type=webgl&amp;v=1.0&amp;ak=你密钥AK<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"> // api?  需要修改成getscript   并且设置 允许第三方cookie 才能使用成功</span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css"></span>
<span class="line">    <span class="token selector">html</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token selector">body</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">      <span class="token property">margin</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">      <span class="token property">padding</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token selector">#container</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token selector">.bmap</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">      <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">&lt;!-- 百度地图--&gt;</span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bmap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bmap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line">    <span class="token keyword">var</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&#39;bmap&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 创建Map实例  渲染地图</span></span>
<span class="line">    map<span class="token punctuation">.</span><span class="token function">centerAndZoom</span><span class="token punctuation">(</span><span class="token string">&#39;上海市&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 初始化地图,设置中心点坐标和地图级别</span></span>
<span class="line">    map<span class="token punctuation">.</span><span class="token function">enableScrollWheelZoom</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// 开启鼠标滚轮缩放</span></span>
<span class="line">  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    </span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line">    <span class="token keyword">let</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Map</span><span class="token punctuation">(</span><span class="token string">&#39;bmap&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 创建Map实例  渲染地图</span></span>
<span class="line">    <span class="token keyword">let</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BMapGL<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">112.59</span><span class="token punctuation">,</span> <span class="token number">28.51</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 设置初始化经纬度 湖南长沙</span></span>
<span class="line">    map<span class="token punctuation">.</span><span class="token function">centerAndZoom</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 初始化地图,设置中心点坐标和地图级别</span></span>
<span class="line">    map<span class="token punctuation">.</span><span class="token function">enableScrollWheelZoom</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token comment">// 开启鼠标滚轮缩放</span></span>
<span class="line">  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="详细信息" tabindex="-1"><a class="header-anchor" href="#详细信息"><span>详细信息</span></a></h3><p><a href="https://lbsyun.baidu.com/index.php?title=jspopularGL/guide/show" target="_blank" rel="noopener noreferrer">百度地图文档</a></p>`,18)])])}const i=s(e,[["render",l]]),u=JSON.parse('{"path":"/supplementary/h507-map.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Geolocation","slug":"geolocation","link":"#geolocation","children":[{"level":3,"title":"API","slug":"api","link":"#api","children":[]}]},{"level":2,"title":"百度地图API","slug":"百度地图api","link":"#百度地图api","children":[{"level":3,"title":"详细信息","slug":"详细信息","link":"#详细信息","children":[]}]}],"git":{},"filePathRelative":"supplementary/h507-map.md"}');export{i as comp,u as data};
