import{_ as n,c as a,a as e,o as p}from"./app-BtRpJXvK.js";const t={};function l(i,s){return p(),a("div",null,[...s[0]||(s[0]=[e(`<h2 id="fiddler" tabindex="-1"><a class="header-anchor" href="#fiddler"><span>Fiddler</span></a></h2><h3 id="fiddler的简介" tabindex="-1"><a class="header-anchor" href="#fiddler的简介"><span>Fiddler的简介</span></a></h3><p>Fiddler是位于客户端和服务器端之间的代理，也是目前最常用的抓包工具之一 。它能够记录客户端和服务器之间的所有 请求，可以针对特定的请求，分析请求数据、设置断点、调试web应用、修改请求的数据，甚至可以修改服务器返回的数据，功能非常强大，是web调试的利器。 看到这么多的应用，是不是就迫不及待的想要开始你的抓包之旅呢，不要急，俗话说的好：工欲善其事，必先利其器，我们先来安装Fiddler吧。</p><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h3><p>若你只需基本抓包、查看流量且仅在 Windows 上使用，可继续选择 <strong>Fiddler Classic（永久免费）</strong>。</p><p>若你使用 Linux/macOS，或需要现代协议支持（HTTP/2、gRPC 等）、团队协作、规则引擎等功能，可用 <strong>Fiddler Everywhere</strong>，但需订阅（有免费试用机会）。</p><p>Fiddler Classic 是一款 Windows 平台下的 <strong>免费 HTTP 调试代理工具</strong>，由 Telerik（现为 Progress 公司）开发，广泛用于 Web 开发、接口调试、抓包分析、性能优化等场景。<strong>(在window的旁边既可以下载mac)</strong></p><p>官网下载地址: https://www.telerik.com/download/fiddler</p><img src="https://api2.mubu.com/v3/document_image/7637318_ddfd708b-566d-4042-887c-58996d5fe93a.png" referrerpolicy="no-referrer"><img src="https://api2.mubu.com/v3/document_image/7637318_815ea636-7780-4217-faa5-383352727101.png" referrerpolicy="no-referrer"><img src="https://api2.mubu.com/v3/document_image/7637318_4248f03a-639e-4f0f-bb04-82acb4e50fb5.png" referrerpolicy="no-referrer"><p>点击close关闭即可完成安装</p><img src="https://api2.mubu.com/v3/document_image/7637318_2fd99362-53d0-49a0-fd27-858b2fda23b3.png" referrerpolicy="no-referrer"><p>然后打开软件的安装位置,将软件发送到桌面,生成快捷模式</p><h3 id="汉化操作" tabindex="-1"><a class="header-anchor" href="#汉化操作"><span>汉化操作</span></a></h3><p>文件在对应文件夹中</p><ol><li>「安装英文版Fiddler」假如将Fiddler安装在「D:\\Programs\\Fiddler」</li><li>将压缩包「fiddler菜单汉化」文件夹中的「FiddlerTexts.txt」复制到「D:\\Programs\\Fiddler\\」</li><li>将压缩包「fiddler菜单汉化」文件夹中的「FdToChinese.dll」复制到「D:\\Programs\\Fiddler\\Scripts\\」</li></ol><h3 id="fiddler的配置" tabindex="-1"><a class="header-anchor" href="#fiddler的配置"><span>Fiddler的配置</span></a></h3><p>常规配置: 只留</p><img src="https://api2.mubu.com/v3/document_image/7637318_5a3e4643-667f-4908-e3aa-3f5ab5091603.png" referrerpolicy="no-referrer"><p>http配置</p><img src="https://api2.mubu.com/v3/document_image/7637318_15f37bb5-9af8-4ee5-b5d5-1be3eb493d96.png" referrerpolicy="no-referrer"><img src="https://api2.mubu.com/v3/document_image/7637318_14bd3d6a-1439-441d-c044-c5f673120ad5.png" referrerpolicy="no-referrer"><p>配置连接信息：Tools &gt; Options &gt;Connections</p><ul><li>端口默认是8888，你可以进行修改。</li><li>勾选 Allow remote computers to connect 选项，然后重启Fiddler，再次打开时会弹出一个信息，选择ok即可</li></ul><p>设置请求隐藏</p><img src="https://api2.mubu.com/v3/document_image/7637318_6f4276a7-472d-4d35-9849-d3f797b9be67.png" referrerpolicy="no-referrer"><h2 id="fiddler界面" tabindex="-1"><a class="header-anchor" href="#fiddler界面"><span>Fiddler界面</span></a></h2><p>设置好后，本机HTTP通信都会经过127.0.0.1:8888代理，也就会被Fiddler拦截到。</p><h4 id="请求-request-部分详解" tabindex="-1"><a class="header-anchor" href="#请求-request-部分详解"><span>请求 (Request) 部分详解</span></a></h4><blockquote><ol><li>Headers —— 显示客户端发送到服务器的 HTTP 请求的 header，显示为一个分级视图，包含了 Web 客户端信息、Cookie、传输状态等。</li><li>Textview —— 显示 POST 请求的 body 部分为文本。</li><li>WebForms —— 显示请求的 GET 参数 和 POST body 内容。</li><li>HexView —— 用十六进制数据显示请求。</li><li>Auth —— 显示响应 header 中的 Proxy-Authorization(代理身份验证) 和 Authorization(授权) 信息.</li><li>Raw —— 将整个请求显示为纯文本。</li><li>JSON - 显示JSON格式文件。</li><li>XML —— 如果请求的 body 是 XML 格式，就是用分级的 XML 树来显示它。</li></ol></blockquote><h4 id="响应-response-部分详解" tabindex="-1"><a class="header-anchor" href="#响应-response-部分详解"><span>响应 (Response) 部分详解</span></a></h4><ol><li>Transformer —— 显示响应的编码信息。</li><li>Headers —— 用分级视图显示响应的 header。</li><li>TextView —— 使用文本显示相应的 body。</li><li>SyntaxView——响应数据</li><li>ImageVies —— 如果请求是图片资源，显示响应的图片。</li><li>HexView —— 用十六进制数据显示响应。</li><li>WebView —— 响应在 Web 浏览器中的预览效果。</li><li>Auth —— 显示响应 header 中的 Proxy-Authorization(代理身份验证) 和 Authorization(授权) 信息。</li><li>Caching —— 显示此请求的缓存信息。</li><li>Privacy —— 显示此请求的私密 (P3P) 信息。</li><li>Raw —— 将整个响应显示为纯文本。</li><li>JSON - 显示JSON格式文件。</li><li>XML —— 如果响应的 body 是 XML 格式，就是用分级的 XML 树来显示它 。</li></ol><h2 id="注意" tabindex="-1"><a class="header-anchor" href="#注意"><span>注意</span></a></h2><p>当你打开fiddler完成解析后, 要么关闭fiddler软件, 要么通过将电脑的代理服务器设置关闭</p><h2 id="案例练习" tabindex="-1"><a class="header-anchor" href="#案例练习"><span>案例练习</span></a></h2><p>通过fiddler工具获取地址,进行案例练习</p><blockquote><p>网易新闻地址: https://news.163.com/ 是jsonp数据格式</p></blockquote><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># 主要讲解的是fiddler </span></span>
<span class="line"><span class="token keyword">import</span> re</span>
<span class="line"><span class="token keyword">import</span> requests</span>
<span class="line"><span class="token keyword">import</span> json</span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">spider</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    headers <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;accept&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;*/*&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;accept-language&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;zh-CN,zh;q=0.9&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;cache-control&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;pragma&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;no-cache&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;referer&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;https://news.163.com/&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;sec-ch-ua&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;\\&quot;Google Chrome\\&quot;;v=\\&quot;143\\&quot;, \\&quot;Chromium\\&quot;;v=\\&quot;143\\&quot;, \\&quot;Not A(Brand\\&quot;;v=\\&quot;24\\&quot;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;sec-ch-ua-mobile&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;?0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;sec-ch-ua-platform&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;\\&quot;Windows\\&quot;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;sec-fetch-dest&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;script&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;sec-fetch-mode&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;no-cors&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;sec-fetch-site&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;same-origin&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;user-agent&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    params <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string">&quot;callback&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;data_callback&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> params<span class="token operator">=</span>params<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> response<span class="token punctuation">.</span>status_code <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">return</span> response<span class="token punctuation">.</span>text</span>
<span class="line">    <span class="token keyword">else</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">None</span></span>
<span class="line">    <span class="token keyword">pass</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">handler_jsonp</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># 正则进行匹配获取数据</span></span>
<span class="line">    value <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token keyword">match</span><span class="token punctuation">(</span><span class="token string">r&#39;data_callback\\((.*)\\)&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> re<span class="token punctuation">.</span>S<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>value<span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">pass</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span></span>
<span class="line">    url <span class="token operator">=</span> <span class="token string">&quot;https://news.163.com/special/cm_yaowen20200213_02/&quot;</span></span>
<span class="line">    data <span class="token operator">=</span> spider<span class="token punctuation">(</span>url<span class="token punctuation">)</span></span>
<span class="line">    handler_jsonp<span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,39)])])}const c=n(t,[["render",l]]),r=JSON.parse('{"path":"/spider/08-fiddler.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Fiddler","slug":"fiddler","link":"#fiddler","children":[{"level":3,"title":"Fiddler的简介","slug":"fiddler的简介","link":"#fiddler的简介","children":[]},{"level":3,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":3,"title":"汉化操作","slug":"汉化操作","link":"#汉化操作","children":[]},{"level":3,"title":"Fiddler的配置","slug":"fiddler的配置","link":"#fiddler的配置","children":[]}]},{"level":2,"title":"Fiddler界面","slug":"fiddler界面","link":"#fiddler界面","children":[]},{"level":2,"title":"注意","slug":"注意","link":"#注意","children":[]},{"level":2,"title":"案例练习","slug":"案例练习","link":"#案例练习","children":[]}],"git":{},"filePathRelative":"spider/08-fiddler.md"}');export{c as comp,r as data};
