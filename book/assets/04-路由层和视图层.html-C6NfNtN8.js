import{_ as s,c as a,a as p,o as e}from"./app-B89-99AF.js";const t={};function l(i,n){return e(),a("div",null,[...n[0]||(n[0]=[p(`<h1 id="作业" tabindex="-1"><a class="header-anchor" href="#作业"><span>作业</span></a></h1><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token number">1.</span>定义路由成功访问视图获取到指定字符串<span class="token punctuation">:</span>hello world</span>
<span class="line"><span class="token comment"># urls.py</span></span>
<span class="line">path<span class="token punctuation">(</span><span class="token string">&#39;test/&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>test<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># views.py</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">&#39;hello world&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line">    </span>
<span class="line"><span class="token number">2.</span>定义路由访问应用app01中的index函数</span>
<span class="line"><span class="token comment"># 总路由(项目同名的文件夹中的urls.py)</span></span>
<span class="line">path<span class="token punctuation">(</span><span class="token string">&#39;app01/&#39;</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">&#39;app01.urls&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># app01文件夹中的urls.py</span></span>
<span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path</span>
<span class="line"><span class="token keyword">from</span> app01 <span class="token keyword">import</span> views</span>
<span class="line"></span>
<span class="line">urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    path<span class="token punctuation">(</span><span class="token string">&#39;index/&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>index<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># views.py</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">&#39;这是index视图函数&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token number">3.</span>定义路由获取到年月日</span>
<span class="line"><span class="token comment"># 无名分组</span></span>
<span class="line">re_path<span class="token punctuation">(</span><span class="token string">&#39;(\\d+)/(\\d+)/(\\d+)&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>date<span class="token punctuation">)</span>  <span class="token comment"># 将分组匹配的数据作为位置参数传递给视图函数</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 有名分组</span></span>
<span class="line">re_path<span class="token punctuation">(</span><span class="token string">&#39;(?P&lt;year&gt;\\d+)/(?P&lt;month&gt;\\d+)/(?P&lt;day&gt;\\d+)&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>date<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 将分组匹配到的数据作为关键字参数传递给视图函数</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># views.py</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">date</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">&#39;%s年%s月%s日&#39;</span> <span class="token operator">%</span> <span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token number">4.</span>设计一个电商项目的路由系统，包含以下功能模块<span class="token punctuation">(</span>不需要完成函数的功能<span class="token punctuation">,</span>直接返回一句话就可以了<span class="token punctuation">)</span>：</span>
<span class="line">	用户认证：注册（<span class="token operator">/</span>register<span class="token operator">/</span>）、登录（<span class="token operator">/</span>login<span class="token operator">/</span>）、注销（<span class="token operator">/</span>logout<span class="token operator">/</span>）。</span>
<span class="line">	商品展示：商品列表（<span class="token operator">/</span>products<span class="token operator">/</span>）、商品详情（<span class="token operator">/</span>products<span class="token operator">/</span>商品<span class="token builtin">id</span><span class="token operator">/</span>）。</span>
<span class="line">	购物车：查看购物车（<span class="token operator">/</span>cart<span class="token operator">/</span>）、添加商品到购物车（<span class="token operator">/</span>cart<span class="token operator">/</span>add<span class="token operator">/</span>商品<span class="token builtin">id</span><span class="token operator">/</span>）。</span>
<span class="line">    </span>
<span class="line"><span class="token comment"># 注册</span></span>
<span class="line">path<span class="token punctuation">(</span><span class="token string">&#39;register/&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>register<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token comment"># 登录</span></span>
<span class="line">path<span class="token punctuation">(</span><span class="token string">&#39;login/&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>login<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token comment"># 注销</span></span>
<span class="line">path<span class="token punctuation">(</span><span class="token string">&#39;logout/&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>logout<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token comment"># 商品列表</span></span>
<span class="line">path<span class="token punctuation">(</span><span class="token string">&#39;products/&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>products<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token comment"># 查看购物车</span></span>
<span class="line">path<span class="token punctuation">(</span><span class="token string">&#39;cart/&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>cart<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token comment"># 商品详情</span></span>
<span class="line">re_path<span class="token punctuation">(</span><span class="token string">&#39;products/(?P&lt;product_id&gt;\\d+)&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token comment"># 添加商品到购物车</span></span>
<span class="line">re_path<span class="token punctuation">(</span><span class="token string">&#39;cart/add/(?P&lt;product_id&gt;\\d+)&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="render函数" tabindex="-1"><a class="header-anchor" href="#render函数"><span>render函数</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> html页面<span class="token punctuation">,</span> 传递给页面的数据<span class="token punctuation">)</span>  <span class="token comment"># 只能传递当前函数内部的变量名给前端页面</span></span>
<span class="line"><span class="token comment"># 1.以字典的形式传递数据</span></span>
<span class="line"><span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">&#39;test.html&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">&#39;key&#39;</span><span class="token punctuation">:</span> now<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">前端获取数据<span class="token punctuation">:</span></span>
<span class="line">    <span class="token punctuation">{</span><span class="token punctuation">{</span> key <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line"><span class="token comment"># 2.locals():将当前函数内部的所有名字以字典的形式传递</span></span>
<span class="line"><span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">&#39;test.html&#39;</span><span class="token punctuation">,</span> <span class="token builtin">locals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">前端获取数据<span class="token punctuation">:</span></span>
<span class="line">    <span class="token punctuation">{</span><span class="token punctuation">{</span> 名字 <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="路由层" tabindex="-1"><a class="header-anchor" href="#路由层"><span>路由层</span></a></h1><h2 id="路由转发器" tabindex="-1"><a class="header-anchor" href="#路由转发器"><span>路由转发器</span></a></h2><ul><li>自定义</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># 定义一个类,通过类变量regex指定路由的正则表达式</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">PhoneConverter</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># []:满足括号中的某一个条件</span></span>
<span class="line">    <span class="token comment"># {数字}:表示匹配次数</span></span>
<span class="line">    regex <span class="token operator">=</span> <span class="token string">&#39;1[3-9]\\d{9}&#39;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">to_python</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># value:将匹配到结果传递给视图函数使用</span></span>
<span class="line">        <span class="token keyword">return</span> value</span>
<span class="line"></span>
<span class="line">register_converter<span class="token punctuation">(</span>PhoneConverter<span class="token punctuation">,</span> <span class="token string">&#39;phone&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line">    path<span class="token punctuation">(</span><span class="token string">&#39;&lt;phone:p&gt;&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># &lt;路由转发器:变量&gt;</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 视图函数views.py</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">&#39;hello world&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 匹配邮箱</span></span>
<span class="line">\\w<span class="token operator">+</span>@\\w<span class="token operator">+</span>\\<span class="token punctuation">.</span>\\w<span class="token operator">+</span></span>
<span class="line"><span class="token number">123</span>@qq<span class="token punctuation">.</span>com</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>内置</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">path<span class="token punctuation">(</span><span class="token string">&#39;&lt;int:p&gt;&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 接收整型</span></span>
<span class="line">path<span class="token punctuation">(</span><span class="token string">&#39;&lt;str:p&gt;&#39;</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>test<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># 接收字符串</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="视图层" tabindex="-1"><a class="header-anchor" href="#视图层"><span>视图层</span></a></h1><p>一个视图,可以是一个函数也可以是一个类.接收web请求并且返回web响应</p><p>视图的第一个参数是HttpRequest对象,且视图必须返回一个HttpResponse对象或者子对象作为响应</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">HttpReponse<span class="token punctuation">(</span>字符串<span class="token punctuation">)</span><span class="token punctuation">:</span>返回字符串</span>
<span class="line">    </span>
<span class="line">render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> template_name<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">:</span>返回html页面</span>
<span class="line">    template_name<span class="token punctuation">:</span>要返回的html页面的名字</span>
<span class="line">    context<span class="token punctuation">:</span>要传递给html页面的数据</span>
<span class="line">        </span>
<span class="line">redirect<span class="token punctuation">(</span>路由<span class="token punctuation">)</span><span class="token punctuation">:</span>重定向</span>
<span class="line">    路由<span class="token punctuation">:</span></span>
<span class="line">        完整的路由<span class="token punctuation">(</span>例<span class="token punctuation">:</span>https<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token operator">/</span><span class="token punctuation">)</span></span>
<span class="line">        urls<span class="token punctuation">.</span>py中定义的路由<span class="token punctuation">(</span>例<span class="token punctuation">:</span><span class="token operator">/</span>index<span class="token operator">/</span><span class="token punctuation">)</span></span>
<span class="line">        urls<span class="token punctuation">.</span>py中路由的别名<span class="token punctuation">(</span>例<span class="token punctuation">:</span><span class="token string">&#39;别名&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="jsonresponse" tabindex="-1"><a class="header-anchor" href="#jsonresponse"><span>JsonResponse</span></a></h2><ul><li>json模块</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># 后端通过HttpReponse传递任意数据都会变成字符串格式(循环遍历然后拼接)</span></span>
<span class="line"><span class="token comment"># 如果想要传递完整的数据类型,需要转换成json格式</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    user_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;age&#39;</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span></span>
<span class="line">    <span class="token comment"># 转换成json格式字符串</span></span>
<span class="line">    <span class="token comment"># json.dumps(python数据类型)---&gt;转换成json格式字符串</span></span>
<span class="line">    <span class="token comment"># json.loads(json格式字符串)---&gt;转换成python数据类型</span></span>
<span class="line">    json_str <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>user_dict<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> </span>
<span class="line">    <span class="token comment"># ensure_ascii:取消中文的编码</span></span>
<span class="line">    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>json_str<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>JsonResponse</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># 导入模块</span></span>
<span class="line"><span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> JsonResponse</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    user_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;age&#39;</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">}</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment"># 传递额外的参数需要通过json_dumps_params以字典的形式传入</span></span>
<span class="line">    <span class="token keyword">return</span> JsonResponse<span class="token punctuation">(</span>user_dict<span class="token punctuation">,</span> json_dumps_params<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;ensure_ascii&#39;</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 传递非字典格式的数据:参数safe=False</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    list1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;嘻嘻&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;haha&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;嘿嘿&#39;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">return</span> JsonResponse<span class="token punctuation">(</span>list1<span class="token punctuation">,</span> </span>
<span class="line">                        safe<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span></span>
<span class="line">                        json_dumps_params<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;ensure_ascii&#39;</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="request对象" tabindex="-1"><a class="header-anchor" href="#request对象"><span>request对象</span></a></h2><ul><li>提交请求的方法</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token number">1.</span>直接在浏览器搜索框中输入路由访问<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>朝指定路由发起get请求</span>
<span class="line"></span>
<span class="line"><span class="token number">2</span><span class="token punctuation">.</span>a标签的href属性<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>点击a标签朝指定地址发起get请求</span>
<span class="line"></span>
<span class="line"><span class="token number">3</span><span class="token punctuation">.</span>form表单的action属性与method属性</span>
<span class="line">	<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>action属性的值<span class="token punctuation">:</span></span>
<span class="line">        	没有指定参数<span class="token punctuation">:</span>表示朝当前所在地址发起请求<span class="token punctuation">(</span>例<span class="token punctuation">:</span>action<span class="token operator">=</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span></span>
<span class="line">            指定urls<span class="token punctuation">.</span>py中定义的路由<span class="token punctuation">:</span>朝服务器指定路由发起请求<span class="token punctuation">(</span>例<span class="token punctuation">:</span>action<span class="token operator">=</span><span class="token string">&#39;/index/&#39;</span><span class="token punctuation">)</span></span>
<span class="line">            指定urls<span class="token punctuation">.</span>py中定义的路由的别名<span class="token punctuation">:</span>朝服务器指定路由发起请求<span class="token punctuation">(</span>例<span class="token punctuation">:</span>action<span class="token operator">=</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">)</span></span>
<span class="line">			全写<span class="token punctuation">:</span>朝指定服务器的指定地址发起请求<span class="token punctuation">(</span>例<span class="token punctuation">:</span>action<span class="token operator">=</span><span class="token string">&#39;https://www.baidu.com/&#39;</span><span class="token punctuation">)</span>			<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">&gt;</span>method属性的值<span class="token punctuation">:</span></span>
<span class="line">            默认情况下不写method属性是get请求</span>
<span class="line">            传递method<span class="token operator">=</span><span class="token string">&#39;post&#39;</span>将当前请求方式改为post请求<span class="token punctuation">,</span>再通过<span class="token operator">&lt;</span><span class="token builtin">input</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>提交请求</span>
<span class="line">            </span>
<span class="line">            </span>
<span class="line"><span class="token comment"># 想要通过post请求:需要去到settings.py中将MIDDLEWARE第四句进行注释</span></span>
<span class="line">MIDDLEWARE <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&#39;django.middleware.security.SecurityMiddleware&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;django.middleware.common.CommonMiddleware&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment"># &#39;django.middleware.csrf.CsrfViewMiddleware&#39;,</span></span>
<span class="line">    <span class="token string">&#39;django.contrib.auth.middleware.AuthenticationMiddleware&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;django.contrib.messages.middleware.MessageMiddleware&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&#39;django.middleware.clickjacking.XFrameOptionsMiddleware&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>提交post请求</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># 1.注释MIDDLEWARE第四句</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2.定义视图函数返回html页面</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">test</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>method<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">&#39;test.html&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3.在test.html中定义form表单修改method属性,点击submit提交post请求</span></span>
<span class="line"><span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;&quot;</span> method<span class="token operator">=</span><span class="token string">&quot;post&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">    <span class="token comment"># 怎样看到这个form表单的,那么当前地址就是进来form表单所在html页面的路由</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token builtin">input</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,24)])])}const o=s(t,[["render",l]]),u=JSON.parse('{"path":"/django/04-%E8%B7%AF%E7%94%B1%E5%B1%82%E5%92%8C%E8%A7%86%E5%9B%BE%E5%B1%82.html","title":"作业","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"render函数","slug":"render函数","link":"#render函数","children":[]},{"level":2,"title":"路由转发器","slug":"路由转发器","link":"#路由转发器","children":[]},{"level":2,"title":"JsonResponse","slug":"jsonresponse","link":"#jsonresponse","children":[]},{"level":2,"title":"request对象","slug":"request对象","link":"#request对象","children":[]}],"git":{},"filePathRelative":"django/04-路由层和视图层.md"}');export{o as comp,u as data};
