import{_ as s,c as a,a as p,o as e}from"./app-BtRpJXvK.js";const l={};function t(i,n){return e(),a("div",null,[...n[0]||(n[0]=[p(`<h2 id="with" tabindex="-1"><a class="header-anchor" href="#with"><span>with</span></a></h2><p><code>with</code> 主要用来 <strong>自动管理资源</strong>，确保<strong>资源（文件、数据库连接等）在使用完后能自动释放</strong>，避免资源泄露问题</p><p>什么时候需要 <code>with</code>?</p><p><strong>凡是涉及</strong>： ✅ <strong>打开文件</strong> ✅ <strong>数据库连接</strong> ✅ <strong>网络请求</strong> ✅ <strong>多线程锁</strong> ✅ <strong>临时性资源管理</strong></p><h2 id="文件操作" tabindex="-1"><a class="header-anchor" href="#文件操作"><span>文件操作</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">&#39;r&#39;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&#39;bbtp.gif&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;wb&#39;</span><span class="token punctuation">)</span><span class="token keyword">as</span> f<span class="token punctuation">:</span> </span>
<span class="line">    <span class="token comment"># 写入文件</span></span>
<span class="line">    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">    </span>
<span class="line"><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&#39;2.json&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;r&#39;</span><span class="token punctuation">)</span><span class="token keyword">as</span> f<span class="token punctuation">:</span></span>
<span class="line">     	  <span class="token comment"># 读取文件 </span></span>
<span class="line">   data <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>with</code> 语句块结束时，文件会自动关闭</li><li>open(文件名称以及后缀,&#39;模式&#39;,编码格式) <ul><li><code>&#39;r&#39;</code>：只读模式，用于读取文件内容。如果文件不存在会抛出 <code>FileNotFoundError</code> 异常。</li><li><code>&#39;w&#39;</code>：写入模式，会覆盖原有文件内容。若文件不存在则创建新文件。</li><li><code>&#39;b&#39;</code>：二进制模式，可与其他模式组合使用，如 <code>&#39;rb&#39;</code> 表示以二进制只读模式打开文件，用于处理二进制文件（如图片、视频）。</li><li><code>&#39;t&#39;</code>：文本模式（默认），也可与其他模式组合，如 <code>&#39;rt&#39;</code> 与 <code>&#39;r&#39;</code> 等效。</li><li>&#39;a&#39;: 追加文本内容</li><li><code>encoding=&quot;utf-8&quot;</code>编码格式</li></ul></li><li>write存储数据时注意项: <ul><li>不能直接存储字典</li></ul></li></ul><h2 id="防盗链" tabindex="-1"><a class="header-anchor" href="#防盗链"><span>防盗链</span></a></h2><blockquote><p>主要作用是告诉服务器当前请求是从哪个页面链接过来的,</p></blockquote><ul><li>网站可以通过检查 <code>Referer</code> 来判断请求是否来自它自己的页面，如果不是，可以拒绝服务。这常用于防止图片、视频等资源被其他网站直接链接使用</li><li>在登录场景中，服务器可能会检查 <code>Referer</code> 以确保登录请求是从合法的登录页面发起的，而不是从某个可疑的第三方页面发起的</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">headers <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment"># 防盗链: </span></span>
<span class="line">  <span class="token string">&#39;Referer&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;https://passport.17k.com/login/&#39;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">#绕过反爬虫机制 让目标网站服务器认为这个请求是从一个合法的,可信的页面链接过来的,而不是直接由爬虫程序凭空发起的</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="http请求工具" tabindex="-1"><a class="header-anchor" href="#http请求工具"><span>http请求工具</span></a></h2><blockquote><p>Payload 请求数据携带体</p></blockquote><ul><li>当使用 <code>POST</code>、<code>GET</code>等方法发送数据时，<code>payload</code> 就是请求体（<code>body或params</code>）中的数据。</li><li>常见的数据格式： <ul><li><code>Request Payload: post携带的数据</code></li><li><code>Query String Parameters: get携带的数据</code></li></ul></li></ul><blockquote><p>preview 响应数据</p></blockquote><p><code>preview</code> 是 <strong>开发者工具（如 Chrome DevTools）提供的功能</strong>，用于 <strong>可视化解析响应数据</strong>，而不是直接显示原始文本</p><ul><li>适用于 <code>JSON</code>、<code>HTML</code>、<code>图片</code>、<code>PDF</code> 等格式的响应</li><li>如果返回的是 <code>JSON</code>，<code>preview</code> 会以 <strong>树状结构</strong> 展示，方便查看嵌套数据。</li><li>如果返回的是 <code>HTML</code>，<code>preview</code> 会渲染成网页结构（但不会执行 JS）。</li></ul><h2 id="pymysql" tabindex="-1"><a class="header-anchor" href="#pymysql"><span>pyMysql</span></a></h2><p><code>pip install PyMySQL</code> 安装</p><p>execute(sql,arg)</p><ul><li>sql语法</li><li>arg: 在sql语法中设置<code>%s</code>符号时,arg会自动与sql中的<code>%s</code>一一对应 <ul><li>execute(<code>UPDATE users SET email=%s WHERE username=%s</code> ,(1,3))</li></ul></li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">import</span> pymysql</span>
<span class="line">cursor <span class="token operator">=</span> <span class="token boolean">None</span></span>
<span class="line"><span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token comment"># 连接数据库</span></span>
<span class="line">    connection <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span></span>
<span class="line">        host<span class="token operator">=</span><span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span></span>
<span class="line">        user<span class="token operator">=</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        passwd<span class="token operator">=</span><span class="token string">&#39;123123&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        db<span class="token operator">=</span><span class="token string">&#39;lol&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        charset<span class="token operator">=</span><span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token comment"># 自动提交</span></span>
<span class="line">        autocommit<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># 创建游标对象(数据库对象)</span></span>
<span class="line">    cursor <span class="token operator">=</span> connection<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 报错了执行</span></span>
<span class="line"><span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 无论捕获状态怎么样 都会执行</span></span>
<span class="line"><span class="token keyword">finally</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">if</span> cursor<span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># 游标关闭</span></span>
<span class="line">        cursor<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment"># 关闭连接</span></span>
<span class="line">        connection<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="查询数据" tabindex="-1"><a class="header-anchor" href="#查询数据"><span>查询数据</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;select * from user&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">#  查询数据库数据</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 循环获取数据</span></span>
<span class="line">row <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">for</span> row <span class="token keyword">in</span> results<span class="token punctuation">:</span></span>
<span class="line">   <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;ID: </span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">[</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">, 用户名: </span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">[</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">, 邮箱: </span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">[</span><span class="token string">&#39;email&#39;</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="添加数据" tabindex="-1"><a class="header-anchor" href="#添加数据"><span>添加数据</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;insert into user() VALUES()&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 添加数据</span></span>
<span class="line">connection<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment"># 在连接时设置该属性后会自动提交</span></span>
<span class="line">autocommit<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># 批量添加数据</span></span>
<span class="line">sql <span class="token operator">=</span> <span class="token string">&quot;INSERT INTO users (username, email) VALUES (%s, %s)&quot;</span></span>
<span class="line">data <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;user1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;user1@example.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;user2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;user2@example.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">(</span><span class="token string">&#39;user3&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;user3@example.com&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line">cursor<span class="token punctuation">.</span>executemany<span class="token punctuation">(</span>sql<span class="token punctuation">,</span> data<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">cursor<span class="token punctuation">.</span>executemany<span class="token punctuation">(</span><span class="token string">&quot;insert into user(username, userpass,sex,age) VALUES (%s, %s,%s, %s)&quot;</span><span class="token punctuation">,</span><span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">(</span><span class="token string">&#39;user1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;123123&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;s&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">(</span><span class="token string">&#39;user2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;123123&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;s&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">(</span><span class="token string">&#39;user3&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;123123&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;s&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;&#39;&#39;insert into qinghua(title,img,msg) values(&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>titel<span class="token punctuation">}</span></span><span class="token string">&quot;,&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>img<span class="token punctuation">}</span></span><span class="token string">&quot;,&quot;</span><span class="token interpolation"><span class="token punctuation">{</span>msg<span class="token punctuation">}</span></span><span class="token string">&quot;) &#39;&#39;&#39;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"> cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&#39;&#39;&#39;insert into qinghua(title,img,msg) values(%s,%s,%s)&#39;&#39;&#39;</span><span class="token punctuation">,</span><span class="token punctuation">(</span>titel<span class="token punctuation">,</span>img<span class="token punctuation">,</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="更新数据" tabindex="-1"><a class="header-anchor" href="#更新数据"><span>更新数据</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">sql <span class="token operator">=</span> <span class="token string">&quot;UPDATE users SET email=%s WHERE username=%s&quot;</span></span>
<span class="line">cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&#39;new_email@example.com&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;testuser&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除数据" tabindex="-1"><a class="header-anchor" href="#删除数据"><span>删除数据</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">sql <span class="token operator">=</span> <span class="token string">&quot;DELETE FROM users WHERE id=%s&quot;</span></span>
<span class="line">affected_rows <span class="token operator">=</span> cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="高级使用" tabindex="-1"><a class="header-anchor" href="#高级使用"><span>高级使用</span></a></h3><p>@contextmanager 的作用:</p><p>它允许你<strong>用生成器函数</strong>（包含 <code>yield</code> 的函数）来创建上下文管理器</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">from</span> contextlib <span class="token keyword">import</span> contextmanager</span>
<span class="line"></span>
<span class="line"><span class="token decorator annotation punctuation">@contextmanager</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">get_db_connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    conn <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span></span>
<span class="line">        host<span class="token operator">=</span><span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        user<span class="token operator">=</span><span class="token string">&#39;username&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        password<span class="token operator">=</span><span class="token string">&#39;password&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        database<span class="token operator">=</span><span class="token string">&#39;dbname&#39;</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">yield</span> conn</span>
<span class="line">    <span class="token keyword">finally</span><span class="token punctuation">:</span></span>
<span class="line">        conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 使用示例</span></span>
<span class="line"><span class="token keyword">with</span> get_db_connection<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> conn<span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">with</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cursor<span class="token punctuation">:</span></span>
<span class="line">        cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM users&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>事务处理</p></blockquote><p>connection.rollback() 回滚操作</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">def</span> <span class="token function">transfer_money</span><span class="token punctuation">(</span>from_id<span class="token punctuation">,</span> to_id<span class="token punctuation">,</span> amount<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">with</span> connection<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cursor<span class="token punctuation">:</span></span>
<span class="line">            <span class="token comment"># 检查转出账户余额</span></span>
<span class="line">            cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;SELECT balance FROM accounts WHERE id=%s&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>from_id<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            from_balance <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#39;balance&#39;</span><span class="token punctuation">]</span></span>
<span class="line">            </span>
<span class="line">            <span class="token keyword">if</span> from_balance <span class="token operator">&lt;</span> amount<span class="token punctuation">:</span></span>
<span class="line">                <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">&quot;余额不足&quot;</span><span class="token punctuation">)</span></span>
<span class="line">                </span>
<span class="line">            <span class="token comment"># 扣除转出账户金额</span></span>
<span class="line">            cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span></span>
<span class="line">                <span class="token string">&quot;UPDATE accounts SET balance=balance-%s WHERE id=%s&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token punctuation">(</span>amount<span class="token punctuation">,</span> from_id<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">)</span></span>
<span class="line">            </span>
<span class="line">            <span class="token comment"># 增加转入账户金额</span></span>
<span class="line">            cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span></span>
<span class="line">	<span class="token string">&quot;UPDATE accounts SET balance=balance+%s WHERE id=%s&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                <span class="token punctuation">(</span>amount<span class="token punctuation">,</span> to_id<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">)</span></span>
<span class="line">            </span>
<span class="line">        connection<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;转账成功&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">        <span class="token comment"># </span></span>
<span class="line">        connection<span class="token punctuation">.</span>rollback<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;转账失败: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">finally</span><span class="token punctuation">:</span></span>
<span class="line">        connection<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>存储过程调用</p></blockquote><p>把编写在数据库中的SQL语句集称为存储过程</p><p><code>cursor.callproc()</code> 是 PyMySQL 中用于<strong>调用 MySQL 存储过程</strong>的方法。它允许你执行数据库中的预定义存储过程并获取结果</p><div class="language-mysql line-numbers-mode" data-highlighter="prismjs" data-ext="mysql"><pre><code><span class="line">DELIMITER $$</span>
<span class="line">	CREATE PROCEDURE 存储过程名([参数列表])</span>
<span class="line">BEGIN</span>
<span class="line">    SQL语句块;</span>
<span class="line">END$$</span>
<span class="line">DELIMITER ;</span>
<span class="line"></span>
<span class="line">-----------------------------------</span>
<span class="line"></span>
<span class="line">DELIMITER //</span>
<span class="line">CREATE PROCEDURE get_all_users()</span>
<span class="line">BEGIN</span>
<span class="line">    SELECT * FROM users;  -- 简单查询所有用户</span>
<span class="line">END //</span>
<span class="line">DELIMITER ;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>in代表输入参数（默认情况下为in参数），表示该参数的值必须由调用程序指定。</li><li>out代表输出参数，表示该参数的值经存储过程计算后，将out参数的计算结果返回给调用程序。</li><li>inout代表即时输入参数，又是输出参数，表示该参数的值即可有调用程序制定，又可以将inout参数的计算结果返回给调用程序。</li></ul><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># MySQL存储过程</span></span>
<span class="line">DELIMITER <span class="token operator">//</span></span>
<span class="line">CREATE PROCEDURE get_user_by_id<span class="token punctuation">(</span>IN user_id INT<span class="token punctuation">)</span></span>
<span class="line">BEGIN</span>
<span class="line">    SELECT <span class="token operator">*</span> FROM users WHERE <span class="token builtin">id</span> <span class="token operator">=</span> user_id<span class="token punctuation">;</span></span>
<span class="line">END <span class="token operator">//</span></span>
<span class="line">DELIMITER <span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">call_procedure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">with</span> connection<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cursor<span class="token punctuation">:</span></span>
<span class="line">            <span class="token comment"># 调用存储过程</span></span>
<span class="line">            cursor<span class="token punctuation">.</span>callproc<span class="token punctuation">(</span><span class="token string">&#39;get_user_by_id&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token comment"># 获取结果</span></span>
<span class="line">            user <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">for</span> row <span class="token keyword">in</span> results<span class="token punctuation">:</span></span>
<span class="line">                <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span></span>
<span class="line">                </span>
<span class="line">    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;调用存储过程失败: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">finally</span><span class="token punctuation">:</span></span>
<span class="line">        connection<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        </span>
<span class="line">        </span>
<span class="line">这表示调用名为 get_user_by_status 的存储过程，并传递参数 <span class="token string">&#39;active&#39;</span> </span>
<span class="line">cursor<span class="token punctuation">.</span>callproc<span class="token punctuation">(</span><span class="token string">&#39;get_user_by_status&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&#39;active&#39;</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="简易封装mysql" tabindex="-1"><a class="header-anchor" href="#简易封装mysql"><span>简易封装mysql</span></a></h3><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">import</span> pymysql</span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">HanderlMysql</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        self<span class="token punctuation">.</span>connection <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span></span>
<span class="line">            host<span class="token operator">=</span><span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span></span>
<span class="line">            port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span></span>
<span class="line">            user<span class="token operator">=</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">,</span></span>
<span class="line">            password<span class="token operator">=</span><span class="token string">&#39;123123&#39;</span><span class="token punctuation">,</span></span>
<span class="line">            db<span class="token operator">=</span><span class="token string">&#39;lol&#39;</span><span class="token punctuation">,</span></span>
<span class="line">            charset<span class="token operator">=</span><span class="token string">&#39;utf8&#39;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token comment"># 自动提交</span></span>
<span class="line">            autocommit<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">        <span class="token comment"># 创建游标</span></span>
<span class="line">        self<span class="token punctuation">.</span>cursor <span class="token operator">=</span> self<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Connected to MySQL!&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment"># 创建数据库</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">cretae_table</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sql<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        self<span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;创建成功-数据表&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">pass</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">#  添加数据</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">insert_msg</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> sql<span class="token punctuation">,</span> params<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">try</span><span class="token punctuation">:</span></span>
<span class="line">            self<span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">,</span> params<span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;数据表创建成功！&quot;</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">True</span></span>
<span class="line">        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span></span>
<span class="line">            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;创建表失败: </span><span class="token interpolation"><span class="token punctuation">{</span>e<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">False</span></span>
<span class="line">        <span class="token comment"># 创建游标</span></span>
<span class="line">        <span class="token keyword">pass</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">close</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">if</span> self<span class="token punctuation">.</span>cursor<span class="token punctuation">:</span></span>
<span class="line">            self<span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">if</span> self<span class="token punctuation">.</span>connection<span class="token punctuation">:</span></span>
<span class="line">            self<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;数据库连接已关闭&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="json使用" tabindex="-1"><a class="header-anchor" href="#json使用"><span>json使用</span></a></h2><ul><li>json.loads() 解析json数据</li><li>json.dumps() 将py数据转化成json格式</li></ul><p>json.dumps(&quot;&quot;, <code>ensure_ascii</code> 设置为 <code>False</code> 时 ) 不会进行转义,是中文出现</p><h2 id="正则" tabindex="-1"><a class="header-anchor" href="#正则"><span>正则</span></a></h2><p>正则换行可以使用 .*? 进行代替</p><h2 id="滑块验证平台" tabindex="-1"><a class="header-anchor" href="#滑块验证平台"><span>滑块验证平台</span></a></h2><p>云码平台: https://console.jfbym.com/own/index/index.html</p><h2 id="浏览器" tabindex="-1"><a class="header-anchor" href="#浏览器"><span>浏览器</span></a></h2><h3 id="element" tabindex="-1"><a class="header-anchor" href="#element"><span>element</span></a></h3><blockquote><p>浏览器网页标签展示和调试位置</p></blockquote><ul><li>在styles的右边存在Event Listeners(展示网页绑定了那些事件) <ul><li>其中勾选上Ancestor All会展示网页的所有的事件</li><li>未勾选上 <ul><li>在网页的element中选择对于元素会展示对应的事件</li></ul></li></ul></li></ul><h3 id="network" tabindex="-1"><a class="header-anchor" href="#network"><span>Network</span></a></h3><blockquote><p>浏览器请求数据展示位置</p></blockquote><ul><li>勾选上Preserve Log时: 涮新页面后,之前已经存在的请求不会被清空</li><li>勾选上Disable cache时: 涮新页面后, 所有内容都会重置请求 <ul><li>勾选上表示禁止请求缓存</li></ul></li></ul><h3 id="sources" tabindex="-1"><a class="header-anchor" href="#sources"><span>Sources</span></a></h3><blockquote><p>网页源代码位置和调试与监听位置</p></blockquote><h4 id="网页控制台图标功能" tabindex="-1"><a class="header-anchor" href="#网页控制台图标功能"><span>网页控制台图标功能</span></a></h4><ul><li><strong>图标</strong>: ► (蓝色的播放按钮) <ul><li>跳转到下一个断点</li></ul></li><li><strong>图标</strong>: ⦿↷ (一个箭头绕过圆圈的图标) <ul><li>执行当前行并跳到下一行, （如果当前行有函数调用，不会进入函数内部，而是将整个函数作为一步执行）</li></ul></li><li><strong>图标</strong>: ⦿↓ <ul><li>如果当前行有函数调用, 则进入该函数内部，开始逐行执行；否则，执行当前行并跳到下一行。</li></ul></li><li><strong>图标</strong>: ⦿↑ <ul><li>执行完当前函数剩余的所有代码，并返回到调用该函数的位置。</li></ul></li><li><strong>图标</strong>: ⦿→ <ul><li>如果当前行没有函数调用，那么“单步进入”和“单步执行”效果一样</li><li>如果当前行有函数调用，则“单步进入”会进入函数</li></ul></li></ul><h4 id="watch" tabindex="-1"><a class="header-anchor" href="#watch"><span>watch</span></a></h4><blockquote><p>可以用于监听网页变量数据的位置</p></blockquote><img src="https://api2.mubu.com/v3/document_image/7637318_c5598f2c-7ace-4baf-8134-7233a3ed63c6.png" referrerpolicy="no-referrer"><h4 id="xhr断点" tabindex="-1"><a class="header-anchor" href="#xhr断点"><span>xhr断点</span></a></h4><blockquote><p>通过监听请求地址进行自动断点</p></blockquote><img src="https://api2.mubu.com/v3/document_image/7637318_7b455fdb-24ad-4019-cc17-c3040ab18c94.png" referrerpolicy="no-referrer"><h2 id="装饰器" tabindex="-1"><a class="header-anchor" href="#装饰器"><span>装饰器</span></a></h2><blockquote><p>在某个函数的上方设置 @函数名 为装饰器</p></blockquote><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token keyword">def</span> <span class="token function">simple_decorator</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">def</span> <span class="token function">wrapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;函数执行前&quot;</span><span class="token punctuation">)</span></span>
<span class="line">        func<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;函数执行后&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> wrapper</span>
<span class="line"></span>
<span class="line"><span class="token comment"># say_hello = simple_decorator(say_hello)</span></span>
<span class="line"><span class="token decorator annotation punctuation">@simple_decorator</span>   </span>
<span class="line"><span class="token keyword">def</span> <span class="token function">say_hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Hello!&quot;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">say_hello<span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token triple-quoted-string string">&quot;&quot;&quot;</span>
<span class="line">上序的意思:  </span>
<span class="line">1. @simple_decorator 表示simple_decorator函数执行并自动获取下方的函数say_hello作为参数进行传递</span>
<span class="line">2. simple_decorator函数执行,接收@simple_decorator传递的函数</span>
<span class="line">3. simple_decorator函数执行完成后,会将返回值作为函数say_hello的值</span>
<span class="line"></span>
<span class="line">&quot;&quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 示例</span></span>
<span class="line"><span class="token keyword">def</span> <span class="token function">init_msg</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;6666&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span>fun<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token string">&quot;哈哈哈&quot;</span></span>
<span class="line"></span>
<span class="line"> <span class="token comment"># init_msg函数执行并将ceshi传递, ceshi函数变成@init的返回值</span></span>
<span class="line"><span class="token decorator annotation punctuation">@init_msg</span> </span>
<span class="line"><span class="token keyword">def</span> <span class="token function">ceshi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;ceshi&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">print</span><span class="token punctuation">(</span>ceshi<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="模块" tabindex="-1"><a class="header-anchor" href="#模块"><span>模块</span></a></h2><ul><li>sys 停止执行模块 <ul><li>sys.exit(0) 0正常退出 1-127正常退出</li></ul></li><li>time 等待执行模块 <ul><li>time.sleep(s) 等待多少秒后执行</li></ul></li></ul>`,75)])])}const o=s(l,[["render",t]]),u=JSON.parse('{"path":"/spider/%E8%A1%A5%E5%85%85.html","title":"","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"with","slug":"with","link":"#with","children":[]},{"level":2,"title":"文件操作","slug":"文件操作","link":"#文件操作","children":[]},{"level":2,"title":"防盗链","slug":"防盗链","link":"#防盗链","children":[]},{"level":2,"title":"http请求工具","slug":"http请求工具","link":"#http请求工具","children":[]},{"level":2,"title":"pyMysql","slug":"pymysql","link":"#pymysql","children":[{"level":3,"title":"查询数据","slug":"查询数据","link":"#查询数据","children":[]},{"level":3,"title":"添加数据","slug":"添加数据","link":"#添加数据","children":[]},{"level":3,"title":"更新数据","slug":"更新数据","link":"#更新数据","children":[]},{"level":3,"title":"删除数据","slug":"删除数据","link":"#删除数据","children":[]},{"level":3,"title":"高级使用","slug":"高级使用","link":"#高级使用","children":[]},{"level":3,"title":"简易封装mysql","slug":"简易封装mysql","link":"#简易封装mysql","children":[]}]},{"level":2,"title":"json使用","slug":"json使用","link":"#json使用","children":[]},{"level":2,"title":"正则","slug":"正则","link":"#正则","children":[]},{"level":2,"title":"滑块验证平台","slug":"滑块验证平台","link":"#滑块验证平台","children":[]},{"level":2,"title":"浏览器","slug":"浏览器","link":"#浏览器","children":[{"level":3,"title":"element","slug":"element","link":"#element","children":[]},{"level":3,"title":"Network","slug":"network","link":"#network","children":[]},{"level":3,"title":"Sources","slug":"sources","link":"#sources","children":[]}]},{"level":2,"title":"装饰器","slug":"装饰器","link":"#装饰器","children":[]},{"level":2,"title":"模块","slug":"模块","link":"#模块","children":[]}],"git":{},"filePathRelative":"spider/补充.md"}');export{o as comp,u as data};
